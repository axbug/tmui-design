import{d as e,r as t,c as l,M as n,p as o,o as a,a as r,w as i,b as s,O as u,e as c,f,u as d,F as m,N as p,k as h,j as x}from"./index-5c06cf16.js";import{c as y,t as v}from"./tm-app.20954b06.js";import{t as g}from"./tm-sheet.2873fe67.js";import{t as b}from"./tm-text.fdd4f0a8.js";import{t as _}from"./tm-icon.5716c798.js";import{t as w}from"./tm-translate.4fbb7927.js";const k=e({__name:"tm-alert",props:{...y,transprent:{type:[Boolean],default:!1},border:{type:[Number],default:0},round:{type:[Number],default:2},margin:{type:Array,default:()=>[32,12]},padding:{type:Array,default:()=>[24,24]},content:{type:[Array,Object],default:()=>[]},autoPlay:{type:Boolean,default:!0},hidnAniName:{type:String,default:"zoom"},duration:{type:Number,default:3e3},closable:{type:[Boolean,String],default:!0},height:{type:[Number],default:160},maxLine:{type:[Number],default:1},showDot:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:y}){const v=e,k=t(null),N=t(0),T=t(!0);let z=uni.$tm.u.getUid(5);const A=l((()=>"zoom"==v.hidnAniName||"fade"==v.hidnAniName)),D=l((()=>{var e,t,l;if(!Array.isArray(v.content))return[{content:(null==(e=v.content)?void 0:e.content)??"",title:(null==(t=v.content)?void 0:t.title)??"",icon:(null==(l=v.content)?void 0:l.icon)??""}];return v.content.map((e=>(e.content=(null==e?void 0:e.content)??"",e.title=(null==e?void 0:e.title)??"",e.icon=(null==e?void 0:e.icon)??"",e)))})),S=l((()=>D.value.length));function j(){clearTimeout(z),T.value=!1}function C(){S.value<1||(clearTimeout(z),z=setTimeout((function(){!function(){clearTimeout(z);let e=N.value+1;e==S.value&&(e=0);N.value=e,C()}()}),v.duration))}function B(){var e;null==(e=k.value)||e.play(),clearTimeout(z),z=setTimeout((function(){T.value=!1}),301)}return n((()=>clearTimeout(z))),o((()=>{v.autoPlay&&C()})),(t,l)=>{const n=x;return T.value?(a(),r(w,{key:0,onEnd:j,ref_key:"bodyani",ref:k,reverse:d(A),name:e.hidnAniName,autoPlay:!1},{default:i((()=>[s(g,{height:v.height-2*v.padding[1],color:v.color,_class:t._class,_style:t._style,followTheme:v.followTheme,dark:v.dark,round:v.round,shadow:v.shadow,outlined:v.outlined,border:v.border,borderStyle:v.borderStyle,borderDirection:v.borderDirection,text:v.text,transprent:v.transprent,linear:v.linear,linearDeep:v.linearDeep,margin:v.margin,padding:v.padding},{default:i((()=>[s(n,{class:"relative bdcld flex flex-row flex-row-top-start"},{default:i((()=>[s(n,{style:{width:"0px"},class:u(["flex flex-12 flex-row flex-row-top-start",[e.closable?"pr-24 ":""]])},{default:i((()=>[(a(!0),c(m,null,f(d(D),((e,t)=>(a(),r(n,{key:t,class:u([[N.value==t?"flex-12 ":" flex-0 "],"flex flex-row flex-row-top-start anifun"])},{default:i((()=>[N.value==t?(a(),r(w,{key:0,name:"zoom",style:{width:"100%"},_class:"flex-12 flex flex-row flex-row-top-start"},{default:i((()=>[s(n,{class:"flex-12 flex flex-row flex-row-top-start"},{default:i((()=>[e.icon?(a(),r(n,{key:0,class:"pr-32",style:{height:"36rpx"}},{default:i((()=>[s(_,{fontSize:32,lineHeight:0,name:e.icon},null,8,["name"])])),_:2},1024)):h("v-if",!0),s(n,{style:{width:"0px"},class:"flex-12 flex flex-col"},{default:i((()=>[e.title?(a(),r(n,{key:0,class:"flex flex-col flex-col-top-start",style:{height:"36rpx"}},{default:i((()=>[s(b,{onClick:l=>y("click",e,t),_class:"text-size-m  text-overflow-1 text-weight-b",fontSize:30,lineHeight:0,label:e.title},null,8,["onClick","label"])])),_:2},1024)):h("v-if",!0),e.content?(a(),r(n,{key:1,class:"flex-12 overflow"},{default:i((()=>[s(b,{onClick:l=>y("click",e,t),fontSize:26,_class:"text-overflow-"+v.maxLine,lineHeight:0,label:e.content},null,8,["onClick","_class","label"]),d(S)>1&&v.showDot?(a(),r(b,{key:0,_class:"pt-24",label:`${N.value+1}/${d(S)}`},null,8,["label"])):h("v-if",!0)])),_:2},1024)):h("v-if",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)):h("v-if",!0)])),_:2},1032,["class"])))),128))])),_:1},8,["class"]),p(t.$slots,"right",{},(()=>[e.closable?(a(),r(n,{key:0,class:"flex flex-row flex-row-top-end"},{default:i((()=>[s(_,{onClick:B,fontSize:32,lineHeight:0,name:"tmicon-times-circle-fill"})])),_:1})):h("v-if",!0)]))])),_:3})])),_:3},8,["height","color","_class","_style","followTheme","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","margin","padding"])])),_:3},8,["reverse","name"])):h("v-if",!0)}}}),N=e({__name:"alert",setup(e){const l=t([{icon:"tmicon-alert",content:"这是一条新闻这是一条新闻这是一条新闻这是一条新闻这是一条新闻这是一条新闻22这是一条新闻这是一条新闻这是一条新闻"}]),n=t([{title:"我是标题",content:"我是介绍内容哦"}]);return(e,t)=>(a(),r(v,null,{default:i((()=>[s(k,{shadow:2,content:l.value,height:80},null,8,["content"]),s(k,{color:"orange",linear:"right",content:l.value,height:80},null,8,["content"]),s(k,{color:"pink",linearDeep:"accent",linear:"right",content:n.value,height:140},null,8,["content"]),s(g,null,{default:i((()=>[s(b,{"font-size":24,_class:"font-weight-b",label:"下面是一些其它属性,更多玩法请前往文档。"})])),_:1}),s(k,{content:l.value,text:"",height:80},null,8,["content"]),s(k,{color:"green",text:"",border:1,content:l.value,height:80},null,8,["content"]),s(k,{color:"blue",outlined:"","border-style":"dashed",border:1,content:l.value,height:80},null,8,["content"])])),_:1}))}});export{N as default};
