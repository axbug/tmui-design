import{d as e,r as o,c as l,R as a,o as t,a as n,w as r,b as i,u as f,k as d,N as c,V as s,O as p,j as u}from"./index-5c06cf16.js";import{t as k}from"./tm-sheet.2873fe67.js";import{t as m}from"./tm-text.fdd4f0a8.js";import{t as y}from"./tm-icon.5716c798.js";import{t as g}from"./tm-translate.4fbb7927.js";import{c as z,f as S,g as b}from"./tm-app.20954b06.js";const w=e({__name:"tm-tag",props:{...z,followTheme:{type:[Boolean],default:!0},transprent:{type:[Boolean],default:!1},border:{type:[Number],default:0},round:{type:[Number],default:2},shadow:{type:[Number],default:1},margin:{type:Array,default:()=>[10,10]},padding:{type:Array,default:()=>[0,0]},checkable:{type:[Boolean],default:!1},checked:{type:[Boolean],default:!1},load:{type:[Boolean],default:!1},size:{type:String,default:"m"},fontSize:{type:[Number],default:0},closable:{type:[Boolean],default:!1},icon:{type:[String],default:""},iconAlign:{type:String,default:"left"},label:{type:[String],default:""},fontColor:{type:String,default:""},beforeClose:{type:Function,default:null}},emits:["click","close","change","update:checked"],setup(e,{emit:z}){const w=e,x=o(null),h=l((()=>S(w)));l((()=>b(w)));const D=o(!0),v=o(!1),_=l((()=>w.fontColor)),C=l((()=>w.load)),j=l({get:function(){return v.value},set:function(e){v.value=e,z("update:checked",v.value)}});j.value=w.checked,a((()=>w.checked),(e=>{j.value=e,z("change",j.value)}));const B=l((()=>"xs"==w.size?{px:w.padding[0]||10,py:w.padding[1]||4,fontSize:w.fontSize||22}:"s"==w.size?{px:w.padding[0]||14,py:w.padding[1]||4,fontSize:w.fontSize||24}:"m"==w.size?{px:w.padding[0]||16,py:w.padding[1]||8,fontSize:w.fontSize||26}:"n"==w.size?{px:w.padding[0]||18,py:w.padding[1]||10,fontSize:w.fontSize||28}:"g"==w.size?{px:w.padding[0]||20,py:w.padding[1]||12,fontSize:w.fontSize||32}:"lg"==w.size?{px:w.padding[0]||24,py:w.padding[1]||16,fontSize:w.fontSize||36}:{px:w.padding[0],py:w.padding[1],fontSize:w.fontSize}));function A(e){z("click",e),C.value||(j.value=!j.value)}function E(){D.value=!1,z("close")}async function I(e){if(C.value)return;e.stopPropagation();let o=!0;("function"!=typeof w.beforeClose||(o=await w.beforeClose(),"function"==typeof o&&(o=await o()),o))&&(x.value?x.value.play():(D.value=!1,z("close")))}return(e,o)=>{const l=u;return D.value?(t(),n(l,{key:0,class:p(["flex flex-row",[f(C)?"opacity-5":""]])},{default:r((()=>[i(g,{onEnd:E,ref_key:"anitag",ref:x,name:"zoom",reverse:"",autoPlay:!1},{default:r((()=>[i(k,{onClick:A,transprent:w.transprent,color:w.color,_class:"flex-row flex flex-row-center-center",_style:f(h),followTheme:w.followTheme,followDark:w.followDark,dark:w.dark,round:w.round,shadow:w.checkable&&f(j)||!w.checkable?w.shadow:0,outlined:!(!w.checkable||f(j))||w.outlined,border:w.border,borderStyle:w.borderStyle,borderDirection:w.borderDirection,text:!(!w.checkable||f(j))||w.text,linear:w.linear,linearDeep:w.linearDeep,margin:w.margin,padding:[f(B).px,f(B).py],"border-color":w.borderColor,"linear-color":w.linearColor},{default:r((()=>[w.icon&&"left"==w.iconAlign?(t(),n(y,{key:0,color:f(_),name:w.icon,followDark:w.followDark,fontSize:f(B).fontSize,dark:w.dark,userInteractionEnabled:!1},null,8,["color","name","followDark","fontSize","dark"])):d("v-if",!0),i(l,{class:"flex-1 flex flex-center px-12"},{default:r((()=>[c(e.$slots,"default",{},(()=>[i(m,{color:f(_),fontSize:f(B).fontSize,followDark:w.followDark,userInteractionEnabled:!1,dark:w.dark,label:w.label},null,8,["color","fontSize","followDark","dark","label"])]))])),_:3}),i(l,{onClick:o[0]||(o[0]=s((()=>{}),["stop"]))},{default:r((()=>[w.closable&&!f(C)?(t(),n(y,{key:0,color:f(_),onClick:I,followDark:w.followDark,_class:w.icon?"pl-10":"",fontSize:.8*f(B).fontSize,name:"tmicon-times",dark:w.dark},null,8,["color","followDark","_class","fontSize","dark"])):d("v-if",!0)])),_:1}),w.icon&&"right"==w.iconAlign?(t(),n(y,{key:1,color:f(_),name:w.icon,followDark:w.followDark,fontSize:f(B).fontSize,dark:w.dark,userInteractionEnabled:!1},null,8,["color","name","followDark","fontSize","dark"])):d("v-if",!0),f(C)?(t(),n(l,{key:2,userInteractionEnabled:!1,class:"pl-10 flex flex-center flex-row",style:{"line-height":"0"}},{default:r((()=>[i(y,{color:f(_),followDark:w.followDark,fontSize:.8*f(B).fontSize,name:"tmicon-loading",spin:"",dark:e.dark},null,8,["color","followDark","fontSize","dark"])])),_:1})):d("v-if",!0)])),_:3},8,["transprent","color","_style","followTheme","followDark","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","linear","linearDeep","margin","padding","border-color","linear-color"])])),_:3},512)])),_:3},8,["class"])):d("v-if",!0)}}});export{w as _};
