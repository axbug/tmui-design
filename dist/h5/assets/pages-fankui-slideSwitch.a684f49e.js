var e=Object.defineProperty,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(t,l,i)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[l]=i,a=(e,a)=>{for(var o in a||(a={}))l.call(a,o)&&r(e,o,a[o]);if(t)for(var o of t(a))i.call(a,o)&&r(e,o,a[o]);return e};import{d as o,r as n,c as s,J as d,m as h,Q as f,o as u,a as c,w as p,n as g,u as w,N as x,b as m,M as _,j as b,g as v,i as y,e as $,f as W,F as j,q as O}from"./index-6b165856.js";import{c as S,t as X}from"./tm-app.d6cf2f93.js";import{t as Y}from"./tm-sheet.3639b36a.js";import{t as k}from"./tm-cell.5305407f.js";import{_ as M}from"./tm-card.vue_vue_type_script_setup_true_lang.e65085e5.js";import{t as D}from"./tm-button.80fc9b3b.js";import{t as I}from"./tm-text.6c910eb0.js";import"./tm-icon.65b53dc0.js";import"./tm-image.vue_vue_type_script_setup_true_lang.b0e5c126.js";import"./tm-translate.1f1c80c0.js";import"./tm-divider.vue_vue_type_script_setup_true_lang.cbbfcb4c.js";const E={width:{type:Number,default:750},height:{type:Number,default:88},disabled:{type:Boolean,default:!1},transprent:{type:Boolean,default:!1},color:{type:String,default:"white"},round:{type:Number,default:0},openStatus:{type:Boolean,default:!1},leftWidth:{type:Number,default:120},rightWidth:{type:Number,default:220}},z=o({__name:"tm-slide-switch",props:a(a({},S),E),emits:["click","open","close","update:open-status"],setup(e,{expose:t,emit:l}){var i;const r=e;null==(i=v())||i.proxy,n(null);const a=n({}),o=n(r.disabled),$=n(!1);n(!1);const W=s((()=>r.leftWidth)),j=s((()=>r.rightWidth)),O=s((()=>({width:Math.ceil(uni.$tm.u.topx(r.width)),height:Math.ceil(uni.$tm.u.topx(r.height)),disabled:r.disabled,leftWidth:Math.ceil(uni.$tm.u.topx(r.leftWidth)),rightWidth:Math.ceil(uni.$tm.u.topx(r.rightWidth))}))),S=d({leftWidth:Math.ceil(uni.$tm.u.topx(r.leftWidth)),rightWidth:Math.ceil(uni.$tm.u.topx(r.rightWidth)),offset:0,startOffset:0,dragging:!1,startX:0,startY:0,direction:"",deltaX:0,deltaY:0,offsetX:0,offsetY:0});function X(e,t){"style"==e?a.value=t:"closeOther"==e||("open"==e?(l("update:open-status",!0),l("open",!0)):"close"==e&&(l("update:open-status",!1),l("close",!1)))}h((()=>{$.value=r.openStatus,setTimeout((()=>{k()}),100)})),f((()=>r.openStatus),((e,t)=>{e?I("right"):D()}));var k=function(){$.value&&S.rightWidth>0?M(-S.rightWidth):$.value&&S.leftWidth>0&&M(S.leftWidth)},M=function(e){var t,l,i;void 0===e&&(e=0),S.offset=(t=e,l=-S.rightWidth,i=0,Math.min(Math.max(t,l),i));var r="translate3d("+S.offset+"px, 0, 0)",a=S.dragging?"none":"transform .6s cubic-bezier(0.18, 0.89, 0.32, 1)";X("style",{"-webkit-transform":r,"-webkit-transition":a,transform:r,transition:a})},D=function(){M(0),$.value=!1,X("close",!1)},I=function(e){var t="left"===e?+S.leftWidth:-S.rightWidth;$.value=!0,M(t),X("open",!0)};const E=e=>{S.direction="",S.deltaX=0,S.deltaY=0,S.offsetX=0,S.offsetY=0,S.startOffset=S.offset;var t=e.touches[0];S.startX=t.clientX,S.startY=t.clientY,X("closeOther",!1)},z=e=>{var t,l,i=e.touches[0];S.deltaX=i.clientX-S.startX,S.deltaY=i.clientY-S.startY,S.offsetX=Math.abs(S.deltaX),S.offsetY=Math.abs(S.deltaY),S.direction=S.direction||(t=S.offsetX,l=S.offsetY,t>l&&t>10?"horizontal":l>t&&l>10?"vertical":""),"horizontal"===S.direction&&(S.dragging=!0,M(S.startOffset+S.deltaX))},N=e=>{S.dragging=!1,+S.rightWidth>0&&-S.startOffset<+S.rightWidth&&-S.offset>.3*+S.rightWidth?I("right"):+S.leftWidth>0&&S.startOffset<+S.leftWidth&&S.offset>.3*+S.leftWidth?I("left"):S.startOffset!==S.offset&&D()};return t({close:D,open:I}),(e,t)=>{const i=y;return u(),c(i,null,{default:p((()=>[o.value?b("v-if",!0):(u(),c(i,{key:0,onTouchstart:E,onTouchmove:z,onTouchend:N,onTouchcancel:N,style:g(`width:${w(O).width}px;height:${w(O).height}px `),class:x(["overflow relative",[w(O).disabled?"opacity-7":""]])},{default:p((()=>[m(i,{class:"flex flex-row flex-row-center-between"},{default:p((()=>[m(i,{id:"left",style:g({width:`${w(W)}px`,height:`${w(O).height}px`})},{default:p((()=>[_(e.$slots,"left")])),_:3},8,["style"]),m(i,{id:"right",style:g({width:`${w(j)}px`,height:`${w(O).height}px`})},{default:p((()=>[_(e.$slots,"right")])),_:3},8,["style"])])),_:3}),m(i,{id:"wrapper",class:"absolute l-0 t-0",style:g([`width:${w(O).width}px;height:${w(O).height}px;`,a.value])},{default:p((()=>[m(Y,{onClick:t[0]||(t[0]=e=>l("click")),shadow:0,outlined:r.outlined,borderStyle:r.borderStyle,unit:"px",borderDirection:r.borderDirection,linearDeep:r.linearDeep,linear:r.linear,round:r.round,color:r.color,text:o.value,transprent:r.transprent,width:w(O).width,height:w(O).height,margin:[0,0],padding:[0,0]},{default:p((()=>[_(e.$slots,"default")])),_:3},8,["outlined","borderStyle","borderDirection","linearDeep","linear","round","color","text","transprent","width","height"])])),_:3},8,["style"])])),_:3},8,["style","class"])),o.value?(u(),c(i,{key:1,style:g(`width:${w(O).width}px;height:${w(O).height}px `),class:x(["overflow relative",[w(O).disabled?"opacity-7":""]])},{default:p((()=>[m(i,{class:"flex flex-row flex-row-center-between"},{default:p((()=>[m(i,{id:"left",style:g({width:`${w(W)}px`,height:`${w(O).height}px`})},{default:p((()=>[_(e.$slots,"left")])),_:3},8,["style"]),m(i,{id:"right",style:g({width:`${w(j)}px`,height:`${w(O).height}px`})},{default:p((()=>[_(e.$slots,"right")])),_:3},8,["style"])])),_:3}),m(i,{id:"wrapper",class:"absolute l-0 t-0",style:g([`width:${w(O).width}px;height:${w(O).height}px `])},{default:p((()=>[m(Y,{onClick:t[1]||(t[1]=e=>l("click")),shadow:0,outlined:r.outlined,borderStyle:r.borderStyle,unit:"px",borderDirection:r.borderDirection,linearDeep:r.linearDeep,linear:r.linear,round:r.round,color:r.color,text:o.value,transprent:r.transprent,width:w(O).width,height:w(O).height,margin:[0,0],padding:[0,0]},{default:p((()=>[_(e.$slots,"default")])),_:3},8,["outlined","borderStyle","borderDirection","linearDeep","linear","round","color","text","transprent","width","height"])])),_:3},8,["style"])])),_:3},8,["style","class"])):b("v-if",!0)])),_:3})}}}),N=o({__name:"slideSwitch",setup(e){const t=110,l=n(!1),i=n([{text:"操作",color:"black"},{text:"删除按钮",color:"green",icon:"tmicon-delete"}]);function r(){l.value=!1}function a(){O({title:"点击了内容区域"})}return setTimeout((()=>{l.value=!0}),1e3),(e,o)=>{const n=y;return u(),c(X,null,{default:p((()=>[m(Y,null,{default:p((()=>[m(I,{fontSize:24,_class:"font-weight-b",label:"通过与cell组件组合可滑动列表"})])),_:1}),m(Y,{padding:[0,0],margin:[32,0,32,0]},{default:p((()=>[m(z,{onClick:a,rightMenu:i.value,width:686,height:84},{right:p((()=>[m(n,{class:"flex flex-row flex-row-center-end"},{default:p((()=>[m(Y,{_class:"flex flex-row flex-row-center-center",width:t,height:84,color:"red","no-level":"",margin:[0],padding:[0]},{default:p((()=>[m(I,{userInteractionEnabled:!1,label:"收藏"})])),_:1}),m(Y,{_class:"flex flex-row flex-row-center-center",width:t,height:84,color:"primary","no-level":"",margin:[0],padding:[0]},{default:p((()=>[m(I,{userInteractionEnabled:!1,label:"删除"})])),_:1})])),_:1})])),default:p((()=>[m(k,{margin:[0,0],title:"向左滑动,并点击底部按钮"})])),_:1},8,["rightMenu"]),m(z,{disabled:"",width:686,height:84},{right:p((()=>[m(n,{class:"flex flex-row flex-row-center-end"},{default:p((()=>[m(Y,{_class:"flex flex-row flex-row-center-center",width:t,height:84,color:"red","no-level":"",margin:[0],padding:[0]},{default:p((()=>[m(I,{userInteractionEnabled:!1,label:"收藏"})])),_:1}),m(Y,{_class:"flex flex-row flex-row-center-center",width:t,height:84,color:"primary","no-level":"",margin:[0],padding:[0]},{default:p((()=>[m(I,{userInteractionEnabled:!1,label:"删除"})])),_:1})])),_:1})])),default:p((()=>[m(k,{margin:[0,0],title:"我被禁用了"})])),_:1}),(u(),$(j,null,W(3,(e=>m(z,{key:e,width:686,height:84},{right:p((()=>[m(n,{class:"flex flex-row flex-row-center-end"},{default:p((()=>[m(Y,{_class:"flex flex-row flex-row-center-center",width:t,height:84,color:"green","no-level":"",margin:[0],padding:[0]},{default:p((()=>[m(I,{userInteractionEnabled:!1,label:"哈哈"})])),_:1}),m(Y,{_class:"flex flex-row flex-row-center-center",width:t,height:84,color:"primary","no-level":"",margin:[0],padding:[0]},{default:p((()=>[m(I,{userInteractionEnabled:!1,label:"删除"})])),_:1})])),_:1})])),default:p((()=>[m(k,{margin:[0,0],title:"向左滑动试"+e},null,8,["title"])])),_:2},1024))),64))])),_:1}),m(Y,null,{default:p((()=>[m(I,{fontSize:24,_class:"font-weight-b",label:"利用插槽放置其它组件"})])),_:1}),m(n,{class:"mx-32 round-2 overflow"},{default:p((()=>[m(z,{"right-width":220,"open-status":l.value,"onUpdate:openStatus":o[0]||(o[0]=e=>l.value=e),width:686,height:300,round:0,action:i.value},{right:p((()=>[m(n,{class:"flex flex-row flex-row-center-end"},{default:p((()=>[m(Y,{width:110,_class:"flex flex-row flex-row-center-center",height:300,color:"red","no-level":"",margin:[0],padding:[0]},{default:p((()=>[m(I,{userInteractionEnabled:!1,label:"收藏"})])),_:1}),m(Y,{onClick:r,width:110,_class:"flex flex-row flex-row-center-center",height:300,color:"primary","no-level":"",margin:[0],padding:[0]},{default:p((()=>[m(I,{userInteractionEnabled:!1,label:"删除"})])),_:1})])),_:1})])),default:p((()=>[m(M,{margin:[0,0],shadow:0,status:"2022-5-2",title:"向左滑动试下",content:"这是一个基础卡片示例，非常简单且实用。这是一个基础卡片示例，非常简单且实用。"},{action:p((()=>[m(n,{class:"flex flex-1 flex-row flex-row-center-end"},{default:p((()=>[m(D,{margin:[24,0],label:"确认","font-size":24,width:120,height:50}),m(D,{color:"white",label:"取消","font-size":24,width:120,height:50})])),_:1})])),_:1})])),_:1},8,["open-status","action"])])),_:1})])),_:1})}}});export{N as default};
