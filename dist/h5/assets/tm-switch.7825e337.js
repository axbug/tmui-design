import{d as e,c as l,r as t,ad as o,R as a,p as n,m as r,o as i,a as d,w as f,b as u,n as s,u as c,O as h,k as m,g as p,L as w,j as g,_ as y}from"./index-5c06cf16.js";import{c as b,u as x}from"./tm-app.20954b06.js";import{t as v}from"./tm-sheet.2873fe67.js";import{t as S}from"./tm-text.fdd4f0a8.js";import{t as k}from"./tm-icon.5716c798.js";import{t as z}from"./tm-translate.4fbb7927.js";const _=y(e({__name:"tm-switch",props:{...b,followTheme:{type:[Boolean,String],default:!0},margin:{type:Array,default:()=>[0,0]},transprent:{type:Boolean,default:!1},defaultValue:{type:[Boolean,String,Number],default:!1},modelValue:{type:[Boolean,String,Number],default:!1},unSelected:{type:[Boolean,String,Number],default:!1},selected:{type:[Boolean,String,Number],default:!0},width:{type:Number,default:0},height:{type:Number,default:0},size:{type:String,default:"normal"},color:{type:String,default:"primary"},unCheckedColor:{type:String,default:"grey-3"},barColor:{type:String,default:"white"},round:{type:Number,default:10},load:{type:Boolean,default:!1},beforeChecked:{type:[Function,Boolean,String],default:()=>!1},barIcon:{type:String,default:"tmicon-check"},offIcon:{type:String,default:""},disabled:{type:Boolean,default:!1},label:{type:Array,default:()=>["",""]}},emits:["update:modelValue","change","click"],setup(e,{emit:y}){var b;const _=e;x(),null==(b=p())||b.proxy;const T=l((()=>{let e=0,l=0,t=24,o=_.round;_.width&&_.height?(e=_.width,l=_.height,t=.45*l):"normal"==_.size?(e=100,l=50,t=26):"mini"==_.size?(e=80,l=40,t=22):"large"==_.size&&(e=120,l=60,t=32,o=24);return e=Math.ceil(w(e)),l=Math.ceil(w(l)),{width:e,height:l,innerHeight:l-4,innerWidth:e/2-4,coenteWidth:e-4,conentWidthPx:e-4,fontSize:t,round:o}})),C=t(_.defaultValue),B=l((()=>function(e){let l=void 0!==e?e:_.modelValue;if(l===_.unSelected)return!1;if(l===_.selected)return!0}(C.value)));B.value;const I=t(!1);async function D(){if(y("click"),!I.value&&!_.disabled){if("function"==typeof _.beforeChecked){I.value=!0;let e=await _.beforeChecked();if("function"==typeof e&&(e=await e()),I.value=!1,!e)return}C.value=B.value?_.unSelected:_.selected,B.value,y("change",B.value?_.selected:_.unSelected),y("update:modelValue",B.value?_.selected:_.unSelected)}}return o((()=>{I.value=_.load})),a((()=>_.modelValue),(e=>{C.value=e,B.value})),n((()=>{r((()=>{B.value}))})),(e,l)=>{const t=g;return i(),d(v,{onClick:D,"no-level":!c(B),followTheme:_.followTheme,followDark:_.followDark,dark:_.dark,shadow:_.shadow,outlined:_.outlined,borderStyle:_.borderStyle,borderDirection:_.borderDirection,linearDeep:_.linearDeep,linear:c(B)?_.linear:"",round:c(T).round,color:c(B)?_.color:_.unCheckedColor,darkBgColor:c(B)?"":"rgba(255,255,255,0.06)",height:c(T).height,width:c(T).width,parenClass:"switchbgani",_class:["flex  relative flex-col",_.disabled?"opacity-4":""],text:!c(B)&&_.text,unit:"px",padding:[0,0],margin:_.margin},{default:f((()=>[u(t,{class:"relative flex relative flex-col nvue",style:s({padding:"2px",width:`${c(T).width}px`,height:`${c(T).height}px`})},{default:f((()=>[u(t,{userInteractionEnabled:!1,class:"flex flex-row flex-between",style:s([{width:c(T).coenteWidth+"px",height:c(T).innerHeight+"px"}])},{default:f((()=>[u(t,{class:"flex-1 flex-row flex-row-center-center"},{default:f((()=>[u(S,{"font-size":c(T).fontSize,label:_.label[0]},null,8,["font-size","label"])])),_:1}),u(t,{class:"flex-1 flex-row flex-row-center-center"},{default:f((()=>[u(S,{"font-size":c(T).fontSize,label:_.label[1]},null,8,["font-size","label"])])),_:1})])),_:1},8,["style"]),u(t,{userInteractionEnabled:!1,class:h([["absolute base nvue",c(B)?"on":"off"],"flex flex-col"]),ref:"switch",style:s({width:c(T).innerWidth+"px",height:c(T).innerHeight+"px"})},{default:f((()=>[u(v,{userInteractionEnabled:!1,padding:[0,0],margin:[0,0],height:c(T).innerHeight,width:c(T).innerWidth,color:_.barColor,"follow-dark":!1,round:c(T).round,unit:"px",_class:"flex flex-center flex-row"},{default:f((()=>[I.value?(i(),d(k,{key:0,followTheme:_.followTheme,"font-size":c(T).fontSize,color:_.color,name:"tmicon-shuaxin",spin:""},null,8,["followTheme","font-size","color"])):m("v-if",!0),I.value?m("v-if",!0):(i(),d(z,{key:1,name:"zoom"},{default:f((()=>[_.barIcon&&c(B)?(i(),d(k,{key:0,followTheme:_.followTheme,"font-size":c(T).fontSize,color:_.color,name:_.barIcon},null,8,["followTheme","font-size","color","name"])):m("v-if",!0),_.offIcon&&!c(B)?(i(),d(k,{key:1,followTheme:_.followTheme,"font-size":c(T).fontSize,name:_.offIcon,_class:"opacity-5"},null,8,["followTheme","font-size","name"])):m("v-if",!0)])),_:1}))])),_:1},8,["height","width","color","round"])])),_:1},8,["class","style"])])),_:1},8,["style"])])),_:1},8,["no-level","followTheme","followDark","dark","shadow","outlined","borderStyle","borderDirection","linearDeep","linear","round","color","darkBgColor","height","width","_class","text","margin"])}}}),[["__scopeId","data-v-b8e02880"]]);export{_ as T};
