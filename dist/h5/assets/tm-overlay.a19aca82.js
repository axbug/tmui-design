var t=Object.defineProperty,e=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(e,o,a)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;import{d as r,O as s,c as u,r as p,L as c,m as f,ax as d,Q as y,o as v,a as m,n as h,u as b,w as g,b as w,N as x,M as O,U as C,j,aA as I,g as N,K as k,i as B,_ as T}from"./index-6b165856.js";import{c as P,u as _,f as S,g as A}from"./tm-app.d6cf2f93.js";const z=r({__name:"tm-overlay",props:(D=((t,e)=>{for(var o in e||(e={}))n.call(e,o)&&i(t,o,e[o]);if(a)for(var o of a(e))l.call(e,o)&&i(t,o,e[o]);return t})({},P),U={align:{type:String,default:"flex-col-center-center"},bgColor:{type:String,default:"rgba(0,0,0,0.24)"},zIndex:{type:[Number,String],default:999},show:{type:Boolean,default:!1},overlayClick:{type:Boolean,default:!0},transprent:{type:[Boolean,String],default:!1},duration:{type:Number,default:300},contentAnimation:{type:Boolean,default:!1},inContent:{type:Boolean,default:!1},teleport:{type:Boolean,default:!0}},e(D,o(U))),emits:["click","open","close","update:show"],setup(t,{expose:e,emit:o}){var a;const n=t,l=_();null==(a=N())||a.proxy;const i=S(n),r=A(n),T=s("tmuiSysInfo",u((()=>({bottom:0,height:750,width:k(750),top:0,isCustomHeader:!1,sysinfo:null})))),P=u((()=>T.value.width)),z=u((()=>T.value.height)),D=u((()=>T.value.top));p(!1),uni.$tm.u.getUid(1);let U=NaN;p(null);const $=p(!1),E=p(!1);c((()=>clearTimeout(U)));const H=u((()=>n.align)),K=u((()=>!n.bgColor||n.transprent?"rgba(0,0,0,0)":n.bgColor||"rgba(0,0,0,0.24)")),L=p(n.inContent),M=p(!1);let Q=!1;function q(t){try{t.stopPropagation(),t.stopImmediatePropagation()}catch(e){}o("click",t),U&&(clearTimeout(U),U=NaN),n.overlayClick&&F(!1)}function F(t){1==t&&d(),function(t=!1){if($.value==t)return;!function(t,e=500,o=!0){o?Q||(Q=!0,"function"==typeof t&&t(),setTimeout((()=>{Q=!1}),e)):Q||(Q=!0,setTimeout((()=>{Q=!1,"function"==typeof t&&t()}),e))}((function(){0==t?(E.value=!1,setTimeout((function(){$.value=t,o("close"),o("update:show",!1)}),n.duration+10)):($.value=!0,setTimeout((function(){E.value=!0}),10),o("open"),setTimeout((function(){o("update:show",!0)}),n.duration))}),n.duration+10,!0)}(t)}return f((()=>{n.show&&F(n.show)})),y((()=>n.show),(t=>{F(t)})),e({close:function(){U&&(clearTimeout(U),U=NaN),F(!1)},open:F}),(e,o)=>{const a=B;return v(),m(I,{to:"body",disabled:!n.teleport},[$.value?(v(),m(a,{key:0,class:"l-0 t-0",style:h([L.value&&!M.value?{width:"100%",height:"100%",top:"0px",position:"absolute"}:{width:b(P)+"px",height:b(z)+"px",top:b(D)+"px",position:"fixed"},t.zIndex?{zIndex:t.zIndex}:""])},{default:g((()=>{var t,o;return[w(a,{ref:"overlay",class:x([b(K)&&!n.transprent&&E.value?"blurOnOpacity":"blurOffOpacity","overlay",(null==(t=b(l).tmuiConfig)?void 0:t.themeConfig.overflowBlur)&&b(K)&&!n.transprent&&E.value?"blurOn":"",(null==(o=b(l).tmuiConfig)?void 0:o.themeConfig.overflowBlur)&&b(K)&&!n.transprent&&!E.value?"blurOff":""]),style:h([b(K)&&!n.transprent?{backgroundColor:$.value?b(K):""}:"",L.value&&!M.value?{width:"100%",height:"100%"}:{width:b(P)+"px",height:b(z)+"px"},{transitionDuration:n.duration+"ms"}])},null,8,["class","style"]),w(a,{onClick:C(q,["stop"]),class:x([b(H)," absolute flex flex-col  l-0 t-0 ",b(r),n.contentAnimation?"overlay":"",n.contentAnimation&&E.value?"blurOnOpacity ":"",n.contentAnimation&&!E.value?"blurOffOpacity overlay":""]),style:h([L.value&&!M.value?{width:"100%",height:"100%",top:"0px"}:{width:b(P)+"px",height:b(z)+"px"},b(i)])},{default:g((()=>[O(e.$slots,"default",{},void 0,!0)])),_:3},8,["onClick","class","style"])]})),_:3},8,["style"])):j("v-if",!0)],8,["disabled"])}}});var D,U;const $=T(z,[["__scopeId","data-v-726f7ea2"]]);export{$ as t};
