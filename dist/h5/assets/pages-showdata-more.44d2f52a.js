var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a;import{d as s,c as u,r as i,az as c,L as f,m as p,k as v,I as m,o as d,a as b,w as h,b as y,M as _,n as g,U as x,N as w,u as j,j as O,g as P,K as z,i as k,_ as I,t as B,v as L,q as C}from"./index-6b165856.js";import{c as N,u as S,d as T,t as E}from"./tm-app.d6cf2f93.js";import{t as U}from"./tm-sheet.3639b36a.js";import{t as X}from"./tm-text.6c910eb0.js";import{_ as $}from"./tm-image.vue_vue_type_script_setup_true_lang.b0e5c126.js";import{_ as q}from"./tm-divider.vue_vue_type_script_setup_true_lang.cbbfcb4c.js";import{t as D}from"./tm-icon.65b53dc0.js";import"./tm-translate.1f1c80c0.js";const F=s({__name:"tm-more",props:(J=((e,t)=>{for(var l in t||(t={}))o.call(t,l)&&r(e,l,t[l]);if(a)for(var l of a(t))n.call(t,l)&&r(e,l,t[l]);return e})({},N),K={height:{type:Number,default:250},openLabel:{type:String,default:"收起更多"},closeLabel:{type:String,default:"展开更多"},beforeOpen:{type:[Function,Boolean],default:()=>!1}},t(J,l(K))),emits:["change"],setup(e,{emit:t}){var l,a;const o=e,n=S(),r=u((()=>n.tmStore)),s=u((()=>T(o,r.value))),I=i(!1),B=null!=(a=null==(l=P())?void 0:l.proxy)?a:null;let L=NaN;const C=i(!0);C.value=!1;const N=i([0,0]),E=i(!1),U=u((()=>s.value&&!E.value?"white":s.value&&E.value?"grey":"black")),$=i(!1),q=u((()=>z(o.height)));function F(){return e=this,l=null,a=function*(){if("function"==typeof o.beforeOpen){let e=yield o.beforeOpen().catch((e=>{}));if("function"==typeof e&&(e=yield e()),!e)return}E.value=!E.value,t("change",E.value)},new Promise(((t,o)=>{var n=e=>{try{s(a.next(e))}catch(t){o(t)}},r=e=>{try{s(a.throw(e))}catch(t){o(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,r);s((a=a.apply(e,l)).next())}));var e,l,a}function J(){v((function(){m().in(B).select(".contentbody").boundingClientRect((e=>{var t;0==(null==e?void 0:e.height)?(clearTimeout(L),L=setTimeout((()=>{J()}),250)):((null!=(t=null==e?void 0:e.height)?t:0)>=q.value&&($.value=!0),I.value=!0)})).exec()}))}return c((()=>{J()})),f((()=>clearTimeout(L))),p((()=>{J()})),(e,t)=>{const l=k;return d(),b(l,{class:"flex flex-col relative"},{default:h((()=>[y(l,{class:"flex-1 flex flex-col relative contentbody overflow",ref:"contentbody",style:g([$.value&&!E.value?{height:o.height+"rpx"}:"",I.value?{transform:"translateX(0px)"}:{transform:"translateX(-1000px)"}])},{default:h((()=>[_(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),$.value?(d(),b(l,{key:0,onClick:x(F,["stop"]),class:w(["flex zIndex-10 flex-row flex-row-bottom-center py-24 flex",[C.value||E.value?"":"fulled-height",E.value?"":j(s)?"darkBg absolute":"lightBg absolute"]]),style:g([C.value?"":{width:"100%","box-sizing":"border-box"},C.value&&!E.value?{width:N.value[0]+"px",height:N.value[1]+"px"}:""])},{default:h((()=>[_(e.$slots,"more",{},(()=>[y(l,{userInteractionEnabled:!1,class:"flex flex-row flex-row-center-center"},{default:h((()=>[y(D,{"font-size":24,color:j(U),name:E.value?"tmicon-angle-up":"tmicon-angle-down"},null,8,["color","name"]),y(X,{"font-size":24,color:j(U),_class:"px-16",label:E.value?o.openLabel:o.closeLabel},null,8,["color","label"])])),_:1})]),!0)])),_:3},8,["onClick","class","style"])):O("v-if",!0)])),_:3})}}});var J,K;const M=I(F,[["__scopeId","data-v-3fe87f7c"]]),R=s({__name:"more",setup(e){const t="英国广播公司（BBC）24日再次“爆料”，称黑客从新疆警方电存数据，其中包括“存数据，其中包括“存数据，其中包括“存数据，其中包括“脑服务器中获取了大量缓存数据，其中包括“再教育中心”“囚犯”照片。该报道刚刚发出，美国国务院和英国外交部就一齐上阵，夸张地表示“震惊”和“愤慨”。不得不说，在编造涉疆谎言方面，美西方舆论和政客的相互配合，已经熟练到“肌肉记忆”的程度。";function l(){return B({title:"..."}),new Promise(((e,t)=>{setTimeout((function(){L(),t(),C({title:"不允许阅读",icon:"none"})}),1500)}))}return(e,a)=>(d(),b(E,null,{default:h((()=>[y(U,null,{default:h((()=>[y(X,{"font-size":24,_class:"font-weight-b",label:"基础示例,更多见文档"}),y(q),y(M,null,{default:h((()=>[y(X,{label:t})])),_:1}),y(q),y(X,{"font-size":24,_class:"font-weight-b",label:"下面是打开前的勾子，不允许查看"}),y(q),y(M,{beforeOpen:l},{default:h((()=>[y($,{width:636,height:120,src:"https://picsum.photos/636/120"}),y(X,{label:t})])),_:1})])),_:1})])),_:1}))}});export{R as default};
