import{d as e,r as n,c as o,o as a,a as t,w as r,N as l,u as i,k as d,U as u,a0 as s,O as g,n as p,g as f,L as m,h as c,at as h,au as v,_ as y}from"./index-5c06cf16.js";import{t as b}from"./tm-icon.5716c798.js";import{c as C,u as S,d as w,i as k,f as z,g as T,h as x}from"./tm-app.20954b06.js";const M=y(e({__name:"tm-button",props:{...C,transprent:{type:Boolean,default:!1},followTheme:{type:Boolean,default:!0},hoverClass:{type:String,default:"opacity-7"},size:{type:String,default:"normal"},fontSize:{type:Number,default:0},fontColor:{type:String,default:""},margin:{type:Array,default:()=>[0,16]},padding:{type:Array,default:()=>[0,0]},noLevel:{type:Boolean,default:!1},shadow:{type:Number,default:0},width:{type:Number,default:0},height:{type:Number,default:0},block:{type:Boolean,default:!1},round:{type:Number,default:0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},url:{type:String,default:""},label:{type:String,default:""},icon:{type:String,default:""},formType:{type:String,default:""},openType:{type:String,default:""},appParameter:{type:String,default:""},sessionFrom:{type:String,default:""},sendMessageTitle:{type:String,default:""},sendMessagePath:{type:String,default:""},sendMessageImg:{type:String,default:""},sendMessageCard:{type:String,default:""},groupId:{type:String,default:""},guildId:{type:String,default:""},publicId:{type:String,default:""},unit:{type:String,default:"rpx"},darkBgColor:{type:String,default:""},disabledColor:{type:String,default:"grey-1"}},emits:["click","touchstart","touchmove","touchcancel","touchend","tap","longpress","getphonenumber","getUserInfo","getUserProfile","error","opensetting","launchapp","contact","chooseavatar"],setup(e,{emit:y}){var C;const M=e,I=S();n(!1);const B=(null==(C=f())?void 0:C.proxy)??null,$=o((()=>M.formType));let P=null,F=null;if("reset"==$.value||"submit"==$.value)for(P=null==B?void 0:B.$parent;P&&"tmFormId"!=(null==P?void 0:P.tmFormComnameId)&&P;)P=(null==P?void 0:P.$parent)??void 0;if("filterCancel"==$.value||"filterConfirm"==$.value)for(F=null==B?void 0:B.$parent;F&&"FilterMenu"!=(null==F?void 0:F.FilterMenu)&&F;)F=(null==F?void 0:F.$parent)??void 0;const _=o((()=>M.noLevel)),L=o((()=>w(M,j.value)));let N=o((()=>k.isCssColor(K.value)?K.value:M.fontColor?k.getColor(M.fontColor).value:R.value.textColor));const A=o((()=>({...z(M)}))),U=o((()=>T(M))),j=o((()=>I.tmStore)),H=o((()=>{var e,n,o;return M.shadow||((null==(o=null==(n=null==(e=I.tmuiConfig.themeConfig)?void 0:e.component)?void 0:n.button)?void 0:o.shadow)??0)})),R=o((()=>{let e={...M,shadow:H.value};return O.value&&(e.color=M.disabledColor),x({...e},L.value,j.value)})),D=n(!1),E=o((()=>M.loading)),O=o((()=>M.disabled)),G=o((()=>M.label)),W=o((()=>M.icon));o((()=>M.outlined&&0==M.border?1:M.border>0?M.border:0));const q=o((()=>{let e={block:{w:0,h:80,fontSize:28,round:3},mini:{w:88,h:36,fontSize:20,round:3},small:{w:120,h:56,fontSize:22,round:3},normal:{w:220,h:80,fontSize:28,round:3},middle:{w:300,h:80,fontSize:30,round:3},large:{w:375,h:80,fontSize:32,round:3}};if("px"==M.unit){let n="block",o="w";for(n in e)for(o in e[n])e[n][o]=m(e[n][o])}return e})),J=o((()=>{var e,n,o,a,t,r;let l=M.fontSize||0;return M.block?{w:0,h:M.height||q.value.block.h,fontSize:l||q.value.block.fontSize,round:-1==M.round?0:M.round||((null==(o=null==(n=null==(e=I.tmuiConfig.themeConfig)?void 0:e.component)?void 0:n.button)?void 0:o.round)??0)||q.value.normal.round}:{w:M.width||q.value[M.size].w,h:M.height||q.value[M.size].h,fontSize:l||q.value[M.size].fontSize,round:-1==M.round?0:M.round||((null==(r=null==(t=null==(a=I.tmuiConfig.themeConfig)?void 0:a.component)?void 0:t.button)?void 0:r.round)??0)||q.value[M.size].round}})),K=o((()=>M.fontColor)),Q=o((()=>M.transprent)),V=o((()=>1==M.margin.length?[M.margin[0],M.margin[0],M.margin[0],M.margin[0]]:2==M.margin.length?[M.margin[0],M.margin[1],M.margin[0],M.margin[1]]:3==M.margin.length?[M.margin[0],M.margin[1],M.margin[2],0]:4==M.margin.length?[M.margin[0],M.margin[1],M.margin[2],M.margin[3]]:[0,0,0,0])),X=o((()=>1==M.padding.length?[M.padding[0],M.padding[0],M.padding[0],M.padding[0]]:2==M.padding.length?[M.padding[0],M.padding[1],M.padding[0],M.padding[1]]:3==M.padding.length?[M.padding[0],M.padding[1],M.padding[2],0]:4==M.padding.length?[M.padding[0],M.padding[1],M.padding[2],M.padding[3]]:[0,0,0,0])),Y=o((()=>{var e;return!0===Q.value?"background-color:rgba(255,255,255,0);":""!==M.darkBgColor&&!0===L.value?`background-color:${M.darkBgColor};`:2==M.linearColor.length?{"background-image":`linear-gradient(${R.value.linearDirectionStr},${M.linearColor[0]},${M.linearColor[1]})`}:2==(null==(e=R.value.gradientColor)?void 0:e.length)?R.value.backgroundColorCss:_.value&&!0===R.value.isBlackAndWhite&&!0===L.value?`background-color: ${R.value.inputcolor}`:`background-color: ${R.value.backgroundColor}`}));function Z(e){D.value=!0,y("touchstart",e)}function ee(e){D.value=!1,y("touchend",e)}function ne(e){if(null!=P&&void 0!==P&&$.value&&!M.loading&&P[$.value](),null!=F&&void 0!==F&&$.value&&!M.loading&&F[$.value](),!M.loading){if(y("click",e),""!==M.url&&"string"==typeof M.url){let e=M.url;return"/"!==e[0]&&(e="/"+e),void c({url:e})}"getUserInfo"==M.openType||M.openType}}return h("appTextColor",N),(e,n)=>{const o=v;return a(),t(o,{onClick:ne,onTouchstart:Z,onTouchend:ee,onLongpress:n[0]||(n[0]=e=>y("longpress",e)),onTouchcancel:n[1]||(n[1]=e=>{D.value=!1,y("touchcancel",e)}),onTouchmove:n[2]||(n[2]=e=>y("touchmove",e)),onGetphonenumber:n[3]||(n[3]=e=>y("getphonenumber",e)),onError:n[4]||(n[4]=e=>y("error",e)),onOpensetting:n[5]||(n[5]=e=>y("opensetting",e)),onLaunchapp:n[6]||(n[6]=e=>y("launchapp",e)),onContact:n[7]||(n[7]=e=>y("contact",e)),onChooseavatar:n[8]||(n[8]=e=>y("chooseavatar",e)),"form-type":M.formType,openType:M.openType,appParameter:M.appParameter,sessionFrom:M.sessionFrom,sendMessageTitle:M.sendMessageTitle,sendMessagePath:M.sendMessagePath,sendMessageImg:M.sendMessageImg,sendMessageCard:M.sendMessageCard,loading:i(E),disabled:i(O),"group-id":M.groupId,"guild-id":M.guildId,"public-id":M.publicId,"hover-start-time":1e7,"hover-stop-propagation":"",class:g(["button alipay flex flex-row flex-row-center-center",!D.value||i(O)||i(E)?"":M.hoverClass+" bhover",i(O)||i(E)?"":"webpc",i(E)||i(O)?"opacity-8":"",e.isDisabledRoundAndriod?"":`round-${i(J).round}`,i(U)]),style:p([{marginLeft:i(V)[0]+"rpx",marginTop:i(V)[1]+"rpx",marginRight:i(V)[2]+"rpx",marginBottom:i(V)[3]+"rpx",paddingLeft:i(X)[0]+"rpx",paddingTop:i(X)[1]+"rpx",paddingRight:i(X)[2]+"rpx",paddingBottom:i(X)[3]+"rpx"},{height:i(J).h+M.unit,fontSize:i(J).fontSize+M.unit,color:i(N),lineHeight:i(J).h+M.unit},i(J).w&&!M.block?{width:i(J).w+M.unit}:"",i(R).borderCss,i(Y),!i(Q)&&i(H)>0&&!M.text?i(R).shadowColor:"",i(A)])},{default:r((()=>[l(e.$slots,"default",{},(()=>[i(W)&&!i(E)?(a(),t(b,{key:0,lineHeight:.9*i(J).fontSize,userInteractionEnabled:!1,color:i(K),_class:i(G)?"pr-10":"",unit:M.unit,fontSize:.9*i(J).fontSize,name:i(W)},null,8,["lineHeight","color","_class","unit","fontSize","name"])):d("v-if",!0),u(" "+s(i(G)),1)]),!0)])),_:3},8,["form-type","openType","appParameter","sessionFrom","sendMessageTitle","sendMessagePath","sendMessageImg","sendMessageCard","loading","disabled","group-id","guild-id","public-id","class","style"])}}}),[["__scopeId","data-v-93257763"]]);export{M as t};
