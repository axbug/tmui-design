var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o;import{d as i,c as d,r as f,ad as u,Q as s,m as c,k as h,o as p,a as m,w as y,b,n as w,u as g,N as v,j as x,g as S,K as k,i as z,_}from"./index-6b165856.js";import{c as T,u as j}from"./tm-app.d6cf2f93.js";import{t as C}from"./tm-sheet.3639b36a.js";import{t as I}from"./tm-text.6c910eb0.js";import{t as B}from"./tm-icon.65b53dc0.js";import{t as D}from"./tm-translate.1f1c80c0.js";const O=i({__name:"tm-switch",props:(P=((e,t)=>{for(var l in t||(t={}))a.call(t,l)&&n(e,l,t[l]);if(o)for(var l of o(t))r.call(t,l)&&n(e,l,t[l]);return e})({},T),N={followTheme:{type:[Boolean,String],default:!0},margin:{type:Array,default:()=>[0,0]},transprent:{type:Boolean,default:!1},defaultValue:{type:[Boolean,String,Number],default:!1},modelValue:{type:[Boolean,String,Number],default:!1},unSelected:{type:[Boolean,String,Number],default:!1},selected:{type:[Boolean,String,Number],default:!0},width:{type:Number,default:0},height:{type:Number,default:0},size:{type:String,default:"normal"},color:{type:String,default:"primary"},unCheckedColor:{type:String,default:"grey-3"},barColor:{type:String,default:"white"},round:{type:Number,default:10},load:{type:Boolean,default:!1},beforeChecked:{type:[Function,Boolean,String],default:()=>!1},barIcon:{type:String,default:"tmicon-check"},offIcon:{type:String,default:""},disabled:{type:Boolean,default:!1},label:{type:Array,default:()=>["",""]}},t(P,l(N))),emits:["update:modelValue","change","click"],setup(e,{emit:t}){var l;const o=e;j(),null==(l=S())||l.proxy;const a=d((()=>{let e=0,t=0,l=24,a=o.round;o.width&&o.height?(e=o.width,t=o.height,l=.45*t):"normal"==o.size?(e=100,t=50,l=26):"mini"==o.size?(e=80,t=40,l=22):"large"==o.size&&(e=120,t=60,l=32,a=24);return e=Math.ceil(k(e)),t=Math.ceil(k(t)),{width:e,height:t,innerHeight:t-4,innerWidth:e/2-4,coenteWidth:e-4,conentWidthPx:e-4,fontSize:l,round:a}})),r=f(o.defaultValue),n=d((()=>function(e){let t=void 0!==e?e:o.modelValue;if(t===o.unSelected)return!1;if(t===o.selected)return!0}(r.value)));n.value;const i=f(!1);function _(){return e=this,l=null,a=function*(){if(t("click"),!i.value&&!o.disabled){if("function"==typeof o.beforeChecked){i.value=!0;let e=yield o.beforeChecked();if("function"==typeof e&&(e=yield e()),i.value=!1,!e)return}r.value=n.value?o.unSelected:o.selected,n.value,t("change",n.value?o.selected:o.unSelected),t("update:modelValue",n.value?o.selected:o.unSelected)}},new Promise(((t,o)=>{var r=e=>{try{i(a.next(e))}catch(t){o(t)}},n=e=>{try{i(a.throw(e))}catch(t){o(t)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,n);i((a=a.apply(e,l)).next())}));var e,l,a}return u((()=>{i.value=o.load})),s((()=>o.modelValue),(e=>{r.value=e,n.value})),c((()=>{h((()=>{n.value}))})),(e,t)=>{const l=z;return p(),m(C,{onClick:_,"no-level":!g(n),followTheme:o.followTheme,followDark:o.followDark,dark:o.dark,shadow:o.shadow,outlined:o.outlined,borderStyle:o.borderStyle,borderDirection:o.borderDirection,linearDeep:o.linearDeep,linear:g(n)?o.linear:"",round:g(a).round,color:g(n)?o.color:o.unCheckedColor,darkBgColor:g(n)?"":"rgba(255,255,255,0.06)",height:g(a).height,width:g(a).width,parenClass:"switchbgani",_class:["flex  relative flex-col",o.disabled?"opacity-4":""],text:!g(n)&&o.text,unit:"px",padding:[0,0],margin:o.margin},{default:y((()=>[b(l,{class:"relative flex relative flex-col nvue",style:w({padding:"2px",width:`${g(a).width}px`,height:`${g(a).height}px`})},{default:y((()=>[b(l,{userInteractionEnabled:!1,class:"flex flex-row flex-between",style:w([{width:g(a).coenteWidth+"px",height:g(a).innerHeight+"px"}])},{default:y((()=>[b(l,{class:"flex-1 flex-row flex-row-center-center"},{default:y((()=>[b(I,{"font-size":g(a).fontSize,label:o.label[0]},null,8,["font-size","label"])])),_:1}),b(l,{class:"flex-1 flex-row flex-row-center-center"},{default:y((()=>[b(I,{"font-size":g(a).fontSize,label:o.label[1]},null,8,["font-size","label"])])),_:1})])),_:1},8,["style"]),b(l,{userInteractionEnabled:!1,class:v([["absolute base nvue",g(n)?"on":"off"],"flex flex-col"]),ref:"switch",style:w({width:g(a).innerWidth+"px",height:g(a).innerHeight+"px"})},{default:y((()=>[b(C,{userInteractionEnabled:!1,padding:[0,0],margin:[0,0],height:g(a).innerHeight,width:g(a).innerWidth,color:o.barColor,"follow-dark":!1,round:g(a).round,unit:"px",_class:"flex flex-center flex-row"},{default:y((()=>[i.value?(p(),m(B,{key:0,followTheme:o.followTheme,"font-size":g(a).fontSize,color:o.color,name:"tmicon-shuaxin",spin:""},null,8,["followTheme","font-size","color"])):x("v-if",!0),i.value?x("v-if",!0):(p(),m(D,{key:1,name:"zoom"},{default:y((()=>[o.barIcon&&g(n)?(p(),m(B,{key:0,followTheme:o.followTheme,"font-size":g(a).fontSize,color:o.color,name:o.barIcon},null,8,["followTheme","font-size","color","name"])):x("v-if",!0),o.offIcon&&!g(n)?(p(),m(B,{key:1,followTheme:o.followTheme,"font-size":g(a).fontSize,name:o.offIcon,_class:"opacity-5"},null,8,["followTheme","font-size","name"])):x("v-if",!0)])),_:1}))])),_:1},8,["height","width","color","round"])])),_:1},8,["class","style"])])),_:1},8,["style"])])),_:1},8,["no-level","followTheme","followDark","dark","shadow","outlined","borderStyle","borderDirection","linearDeep","linear","round","color","darkBgColor","height","width","_class","text","margin"])}}});var P,N;const V=_(O,[["__scopeId","data-v-b8e02880"]]);export{V as T};
