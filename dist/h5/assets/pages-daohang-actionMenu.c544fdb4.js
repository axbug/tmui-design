var e=Object.defineProperty,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o,n=(e,n)=>{for(var r in n||(n={}))l.call(n,r)&&a(e,r,n[r]);if(t)for(var r of t(n))o.call(n,r)&&a(e,r,n[r]);return e};import{d as r,r as u,O as s,c as i,m as d,ad as p,Q as c,o as m,a as f,w as v,M as b,b as h,U as y,e as g,f as w,u as _,F as C,n as x,K as j,i as k}from"./index-6b165856.js";import{c as O,u as V,t as S}from"./tm-app.d6cf2f93.js";import{t as T}from"./tm-sheet.3639b36a.js";import{t as z}from"./tm-text.6c910eb0.js";import{t as K}from"./tm-drawer.cfc5bd4b.js";import{t as N}from"./tm-button.80fc9b3b.js";import{_ as P}from"./tm-divider.vue_vue_type_script_setup_true_lang.cbbfcb4c.js";import"./tm-translate.1f1c80c0.js";import"./tm-icon.65b53dc0.js";import"./tm-overlay.a19aca82.js";const F=r({__name:"tm-action-menu",props:{list:{type:Array,default:()=>[],required:!0},rangKey:{type:String,default:"text"},modelValue:{type:Boolean,default:!1},color:{type:String,default:"white"},activeFontColor:{type:String,default:"primary"},active:{type:Number,default:NaN},allowClose:{type:Boolean,default:!0},duration:{type:Number,default:250},followTheme:O.followTheme},emits:["update:modelValue","update:active","change","cancel","open-data"],setup(e,{emit:t}){var l;const o=e,a=V(),r=u(null),O=s("tmuiSysInfo",i((()=>({bottom:0,height:750,width:j(750),top:0,isCustomHeader:!1,sysinfo:null})))),S=u(null!=(l=null==o?void 0:o.modelValue)&&l),P=u(o.active),F=i((()=>{var e;let t=[];return t=(null!=(e=null==o?void 0:o.list)?e:[]).map((e=>{let t={};return"string"==typeof e||"number"==typeof e?(t.text=e,t.disabled=!1):"object"==typeof e&&(t.text=e[o.rangKey],t=n(n({},t),e)),t})),t})),I=i((()=>80*(F.value.length+1)+140+O.value.bottom)),U=i((()=>o.color)),B=i((()=>o.followTheme?a.tmStore.color:o.activeFontColor));function M(){var e;t("cancel"),null==(e=r.value)||e.close()}function Q(){t("update:modelValue",!1)}function q(){t("update:modelValue",!0)}function A(e){t("open-data",e)}return d((()=>{p((()=>{S.value=o.modelValue}))})),c((()=>o.active),(()=>{P.value=o.active})),(e,l)=>{const a=k;return m(),f(a,{onClick:l[2]||(l[2]=e=>S.value=!S.value)},{default:v((()=>[b(e.$slots,"default"),h(K,{ref_key:"drawer",ref:r,"disabble-scroll":!0,onClose:Q,onOpen:q,duration:o.duration,height:_(I),"onUpdate:show":l[1]||(l[1]=e=>S.value=e),show:S.value,transprent:!0,"hide-header":!0},{default:v((()=>[h(a,{onClick:l[0]||(l[0]=y((()=>{}),["stop"])),class:"flex flex-col"},{default:v((()=>[h(a,{style:{height:"24rpx"}}),h(T,{round:5,margin:[32,0,32,16]},{default:v((()=>[h(a,{class:"flex flex-col round-2 overflow mx-32"},{default:v((()=>[h(z,{_class:"opacity-5 text-align-center","font-size":24,label:"请选择"}),(m(!0),g(C,null,w(_(F),((e,l)=>{var a;return m(),f(N,{onContact:A,onLaunchapp:A,onOpensetting:A,onGetphonenumber:A,onChooseavatar:A,"open-type":null!=(a=null==e?void 0:e.openType)?a:"",transprent:!0,fontColor:P.value==l?_(B):"",followTheme:!1,disabled:e.disabled,onClick:a=>function(e,l){var a;t("change",e,l),P.value=l,t("update:active",l),o.allowClose&&(null==(a=r.value)||a.close())}(e,l),key:l,label:e.text,"font-size":28,margin:[0,0],color:"white",block:"",shadow:0,round:-1},null,8,["open-type","fontColor","disabled","onClick","label"])})),128))])),_:1})])),_:1}),h(N,{round:5,fontColor:_(B),followTheme:!1,onClick:M,label:"取消","font-size":28,margin:[32,0],color:_(U),block:"",shadow:0},null,8,["fontColor","color"]),h(a,{style:x({height:_(O).bottom+"px"})},null,8,["style"])])),_:1})])),_:1},8,["duration","height","show"])])),_:3})}}}),I=r({__name:"actionMenu",setup(e){const t=u(!1),l=u([{text:"苹果",id:"1"},{text:"菠萝",id:"2"},{text:"香蕉",id:"3"}]);function o(e,t){console.log("当前选中项目:",e,"索引:",t)}return(e,a)=>(m(),f(S,null,{default:v((()=>[h(T,null,{default:v((()=>[h(z,{fontSize:24,_class:"font-weight-b",label:"基础属性,更多玩法请前往文档。"}),h(P),h(N,{onClick:a[0]||(a[0]=e=>t.value=!0),label:"显示操作栏",block:""})])),_:1}),h(F,{onChange:o,modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value=e),list:l.value},null,8,["modelValue","list"])])),_:1}))}});export{I as default};
