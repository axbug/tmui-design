var t=Object.defineProperty,e=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(e,o,r)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,n=(t,e)=>{for(var o in e||(e={}))l.call(e,o)&&a(t,o,e[o]);if(r)for(var o of r(e))i.call(e,o)&&a(t,o,e[o]);return t};import{d as s,O as p,c as d,r as c,az as f,m as u,Q as b,o as x,a as h,w as m,u as y,U as w,n as g,j as _,b as v,M as k,N as D,e as S,f as j,F as O,K as z,g as I,i as T,_ as C}from"./index-6b165856.js";import{c as P,t as Y}from"./tm-app.d6cf2f93.js";import{t as X}from"./tm-sheet.3639b36a.js";import{t as A}from"./tm-text.6c910eb0.js";import{t as N}from"./tm-translate.1f1c80c0.js";import{t as $}from"./tm-icon.65b53dc0.js";import{_ as B}from"./tm-divider.vue_vue_type_script_setup_true_lang.cbbfcb4c.js";var E,K;const U=C(s({__name:"tm-dropdown",props:(E=n({},P),K={border:{type:[Number],default:0},round:{type:[Number],default:3},transprent:{type:[Boolean],default:!1},color:{type:String,default:"grey-darken-4"},width:{type:Number,default:0},position:{type:String,default:"bc"},list:{type:Array,default:()=>[],required:!0,validator:t=>"object"==typeof t&&Array.isArray(t)},rangKey:{type:String,default:"text"},disabled:{type:Boolean,default:!1},haveArrow:{type:Boolean,default:!0}},e(E,o(K))),emits:["click"],setup(t,{emit:e}){var o;const r=t,l=p("tmuiSysInfo",d((()=>({bottom:0,height:750,width:z(750),top:0,isCustomHeader:!1,sysinfo:null}))));null==(o=I())||o.proxy;const i=c(null),a=d((()=>l.value.width)),s=d((()=>l.value.height));let C=c(!1);c(uni.$tm.u.getUid(5));let P=c(!1),Y=c({left:0,right:0,bottom:0,top:0,width:0,height:0}),B=c({left:0,right:0,bottom:0,top:0,width:0,height:0});const E=d((()=>r.list.map((t=>{let e={text:"",icon:"",iconColor:""};return"string"==typeof t||"number"==typeof t?e.text=t:(e.text=t[r.rangKey],e=n(n({},e),t)),e})))),K=d((()=>"bc"==r.position||"bl"==r.position||"br"==r.position?"up":"down"));function U(){uni.$tm.u.throttle((()=>P.value=!0),200)}function q(){uni.$tm.u.debounce((()=>P.value=!1),250)}return f((()=>{})),u((()=>{})),b((()=>P.value),(()=>{})),(t,o)=>{const l=T;return x(),h(l,{class:"flex flex-row relative"},{default:m((()=>[y(P)?(x(),h(l,{key:0,onClick:w(q,["stop"]),onTouchmove:o[0]||(o[0]=w((()=>{}),["stop"])),class:"l-0 t-0 fixed zIndex-9",style:g([{width:y(a)+"px",height:y(s)+"px",background:"rgba(0,0,0,0)"}])},null,8,["onClick","style"])):_("v-if",!0),v(l,{class:D(["flex flex-col",["tc"==r.position?"popover-tc":"","tl"==r.position?"popover-tl":"","tr"==r.position?"popover-tr":"","bc"==r.position?"popover-bc":"","bl"==r.position?"popover-bl":"","br"==r.position?"popover-br":""]])},{default:m((()=>[v(l,{onClick:w(U,["stop"]),class:"relative zIndex-1 flex flex-row"},{default:m((()=>[v(l,{eventPenetrationEnabled:!1,userInteractionEnabled:!1,ref:"popver",class:"flex flex-row"},{default:m((()=>[k(t.$slots,"default",{},void 0,!0)])),_:3},512)])),_:3},8,["onClick"]),y(P)?(x(),h(l,{key:0,style:g([{"z-index":"400"},[y(C)&&"tc"==r.position?{top:y(Y).top-y(B).height+"px",left:y(Y).left+y(Y).width/2-y(B).width/2+"px"}:"",y(C)&&"tl"==r.position?{top:y(Y).top-y(B).height+"px",left:y(Y).left+"px"}:"",y(C)&&"tr"==r.position?{top:y(Y).top-y(B).height+"px",left:y(Y).right-y(B).width+"px"}:"",y(C)&&"bc"==r.position?{top:y(Y).bottom+"px",left:y(Y).left+y(Y).width/2-y(B).width/2+"px"}:"",y(C)&&"bl"==r.position?{top:y(Y).bottom+"px",left:y(Y).left+"px"}:"",y(C)&&"br"==r.position?{top:y(Y).bottom+"px",left:y(Y).right-y(B).width+"px"}:""]]),class:D([y(C)?"fixed":"absolute","tc"==r.position||"tl"==r.position||"tr"==r.position?"popover-tcc":"","bc"==r.position||"bl"==r.position||"br"==r.position?"popover-bcc":""]),ref:"content"},{default:m((()=>[v(N,{ref_key:"aniDom",ref:i,reverse:"",name:y(K),duration:180,autoPlay:!y(C)},{default:m((()=>[v(l,{class:D(["flex flex-col",["tc"==r.position?"flex-col-center-center":"","tl"==r.position?"flex-col-top-start":"","tr"==r.position?"flex-col-bottom-end":"","bc"==r.position?"flex-col-center-center":"","bl"==r.position?"flex-col-top-start":"","br"==r.position?"flex-col-bottom-end":""]]),style:g([r.width?{width:r.width+"rpx"}:""])},{default:m((()=>["bc"==r.position||"bl"==r.position||"br"==r.position?(x(),h(X,{key:0,color:r.color,_class:r._class,followTheme:r.followTheme,dark:r.dark,round:0,shadow:r.shadow,outlined:r.outlined,border:r.border,borderStyle:r.borderStyle,borderDirection:r.borderDirection,text:r.text,transprent:r.transprent,linear:r.linear,linearDeep:r.linearDeep,_style:[{zIndex:1},"bc"==r.position?{transform:" rotate(45deg) translateY(8rpx) translateX(8rpx)"}:{},"bl"==r.position?{transform:" rotate(45deg) translateY(-12rpx) translateX(30rpx)"}:{},"br"==r.position?{transform:" rotate(45deg) translateY(20rpx) translateX(-16rpx)",transformOrigin:"0rpx 50%"}:{}],margin:[0,0],padding:[0,0],width:20,height:20},null,8,["color","_class","followTheme","dark","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","_style"])):_("v-if",!0),v(X,{color:r.color,_class:r._class,_style:[{zIndex:2,position:"relative",overflow:"hidden"}],padding:[0,0],followTheme:r.followTheme,dark:r.dark,round:r.round,shadow:r.shadow,outlined:r.outlined,border:r.border,borderStyle:r.borderStyle,borderDirection:r.borderDirection,text:r.text,transprent:r.transprent,linear:r.linear,linearDeep:r.linearDeep,width:r.width,margin:[0,0]},{default:m((()=>[v(l,{style:{height:"24rpx"}}),(x(!0),S(O,null,j(y(E),((t,o)=>(x(),h(l,{"hover-class":"opacity-7",onClick:w((r=>function(t,o){e("click",{index:t,data:o}),P.value=!1}(o,t)),["stop"]),key:o,class:"flex-1 flex px-24 py-16"},{default:m((()=>[v(l,{class:"flex-row flex pb-12 flex-row-center-between"},{default:m((()=>[v(l,{class:"flex flex-row flex-row-center-start flex-1"},{default:m((()=>[t.icon?(x(),h($,{key:0,color:t.iconColor,dark:r.dark,fontSize:36,_class:"pr-12",name:t.icon},null,8,["color","dark","name"])):_("v-if",!0),v(A,{fontSize:32,label:t.text},null,8,["label"])])),_:2},1024),r.haveArrow?(x(),h($,{key:0,"font-size":22,_class:"pl-24",name:"tmicon-angle-right"})):_("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),v(l,{style:{height:"8rpx"}})])),_:1},8,["color","_class","followTheme","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","width"]),"tc"==r.position||"tl"==r.position||"tr"==r.position?(x(),h(X,{key:1,color:r.color,_class:r._class,followTheme:r.followTheme,dark:r.dark,round:0,shadow:r.shadow,outlined:r.outlined,border:r.border,borderStyle:r.borderStyle,borderDirection:r.borderDirection,text:r.text,transprent:r.transprent,linear:r.linear,linearDeep:r.linearDeep,_style:[{zIndex:1},"tc"==r.position?{transform:" rotate(45deg) translateY(-8rpx) translateX(-8rpx)"}:{},"tl"==r.position?{transform:" rotate(45deg) translateY(-26rpx) translateX(10rpx)"}:{},"tr"==r.position?{transform:" rotate(45deg) translateY(0rpx) translateX(-24rpx)",transformOrigin:"0rpx 50%"}:{}],margin:[0,0],padding:[0,0],width:20,height:20},null,8,["color","_class","followTheme","dark","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","_style"])):_("v-if",!0)])),_:1},8,["class","style"])])),_:1},8,["name","autoPlay"])])),_:1},8,["class","style"])):_("v-if",!0)])),_:3},8,["class"])])),_:3})}}}),[["__scopeId","data-v-0773c844"]]),q=s({__name:"dropdown",setup(t){const e=c([{text:"苹果",id:"1",icon:"tmicon-collection"},{text:"菠萝",id:"2",icon:"tmicon-account-plus"},{text:"电话",id:"3",icon:"tmicon-phone"}]);return(t,o)=>{const r=T;return x(),h(Y,null,{default:m((()=>[v(X,null,{default:m((()=>[v(A,{fontSize:24,_class:"font-weight-b",label:"基础属性,更多玩法请前往文档。"}),v(B),v(r,{class:"flex flex-between flex-row px-32"},{default:m((()=>[v(U,{position:"bl",color:"grey-darken-4",width:220,list:e.value},{default:m((()=>[v(A,{label:"显示菜单"})])),_:1},8,["list"]),v(U,{width:220,color:"red",list:e.value},{default:m((()=>[v(A,{label:"样式1"})])),_:1},8,["list"]),v(U,{position:"br",width:220,color:"primary",linear:"bottom",linearDeep:"accent",list:e.value},{default:m((()=>[v(A,{label:"右对齐"})])),_:1},8,["list"])])),_:1})])),_:1})])),_:1})}}});export{q as default};
