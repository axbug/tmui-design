var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n;import{d as o,c as s,o as u,a as d,w as c,b as f,M as g,u as p,j as m,n as y,N as b,U as h,K as S,X as x,i as v,_ as w}from"./index-6b165856.js";import{c as z,f as k,g as _}from"./tm-app.d6cf2f93.js";import{t as j}from"./tm-sheet.3639b36a.js";import{t as I}from"./tm-text.6c910eb0.js";import{t as O}from"./tm-icon.65b53dc0.js";const C=o({__name:"tm-avatar",props:(D=((e,t)=>{for(var r in t||(t={}))i.call(t,r)&&a(e,r,t[r]);if(n)for(var r of n(t))l.call(t,r)&&a(e,r,t[r]);return e})({},z),P={size:{type:[Number],default:90},trigger:{type:[Boolean,String],default:!1},triggerColor:{type:[String],default:""},iconColor:{type:[String],default:""},triggerIcon:{type:[String],default:""},triggerStyle:{type:[String],default:""},round:{type:[Number],default:6},border:{type:[Number],default:0},margin:{type:Array,default:()=>[0,0]},padding:{type:Array,default:()=>[0,0]},transprent:{type:[Boolean,String],default:!1},label:{type:String,default:""},icon:{type:String,default:""},img:{type:String,default:""},fontSize:{type:[Number],default:0},unit:{type:String,default:"rpx"}},t(D,r(P))),emits:["click"],setup(e,{emit:t}){const r=e,n=s((()=>k(r))),i=s((()=>_(r))),l=s((()=>{var e;return null!=(e=r.size)?e:90})),a=s((()=>{var e;return null!=(e=r.size)?e:90})),o=s((()=>{var e;return r.fontSize?r.fontSize:r.label?.4*parseInt(String(l.value)):r.icon?.7*parseInt(String(l.value)):null!=(e=r.size)?e:90})),w=s((()=>S(o.value-4)+"px")),z=s((()=>{let e=l.value/3+6;return e=e>=64?64:e,{size:e,fontSize:.5*e}}));return(s,S)=>{const k=x,_=v;return u(),d(_,{ref:"avatar",class:b(["flex-col flex",[e.trigger?"trigger":"",`mx-${r.margin[0]} my-${r.margin[1]}`]]),style:y({width:p(l)+r.unit,height:p(a)+r.unit})},{default:c((()=>[f(j,{onClick:S[0]||(S[0]=e=>t("click",e)),color:r.color,_class:[p(i),"flex-center flex-col"],_style:[p(n),{flexShrink:1}],followTheme:r.followTheme,dark:r.dark,round:r.round,shadow:r.shadow,outlined:r.outlined,border:r.border,borderStyle:r.borderStyle,borderDirection:r.borderDirection,text:r.text,transprent:!!r.img||r.transprent,linear:r.linear,linearDeep:r.linearDeep,width:p(l),height:p(a),margin:[0,0],padding:r.padding,unit:r.unit},{default:c((()=>[g(s.$slots,"default",{},(()=>[!r.label||r.icon||r.img?m("v-if",!0):(u(),d(I,{key:0,userInteractionEnabled:!1,label:r.label,"font-size":p(o),unit:r.unit},null,8,["label","font-size","unit"])),r.label||!r.icon||r.img?m("v-if",!0):(u(),d(O,{key:1,color:r.iconColor,userInteractionEnabled:!1,name:r.icon,"font-size":p(o),unit:r.unit},null,8,["color","name","font-size","unit"])),r.label||r.icon||!r.img?m("v-if",!0):(u(),d(k,{key:2,userInteractionEnabled:!1,src:r.img,mode:"scaleToFill",style:y({width:p(w),height:p(w)}),class:b(["round-"+r.round])},null,8,["src","style","class"]))]),!0)])),_:3},8,["color","_class","_style","followTheme","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","width","height","padding","unit"]),r.triggerIcon?(u(),d(_,{key:0,onClick:S[1]||(S[1]=h((e=>t("click",e)),["stop"])),class:"absolute flex flex-col-bottom-end b-0 r-0",style:y({width:`${p(l)}${r.unit}`})},{default:c((()=>[f(j,{userInteractionEnabled:!1,width:p(z).size,height:p(z).size,_style:r.triggerStyle,text:!r.img&&!r.text,color:r.triggerColor||r.color,transprent:!1,dark:r.dark,_class:"flex-center ",margin:[0,0],padding:[0,0],round:24,unit:r.unit},{default:c((()=>[f(O,{name:r.triggerIcon,"font-size":p(z).fontSize,unit:r.unit,color:r.iconColor},null,8,["name","font-size","unit","color"])])),_:1},8,["width","height","_style","text","color","dark","unit"])])),_:1},8,["style"])):m("v-if",!0)])),_:3},8,["class","style"])}}});var D,P;const E=w(C,[["__scopeId","data-v-d7157a07"]]);export{E as t};
