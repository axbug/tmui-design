import{d as e,r as t,c as l,K as i,p as r,R as a,o,a as n,w as s,n as d,u as h,O as f,b as u,N as c,k as p,g,j as w,e as x,f as m,F as _,t as b}from"./index-5c06cf16.js";import{c as v,t as y}from"./tm-app.20954b06.js";import{t as $}from"./tm-sheet.2873fe67.js";import{t as W}from"./tm-cell.e6d54032.js";import{_ as k}from"./tm-card.vue_vue_type_script_setup_true_lang.2f387e8b.js";import{t as S}from"./tm-button.5fc2eaaa.js";import{t as X}from"./tm-text.fdd4f0a8.js";import"./tm-icon.5716c798.js";import"./tm-image.vue_vue_type_script_setup_true_lang.f325e7c1.js";import"./tm-translate.4fbb7927.js";import"./tm-divider.vue_vue_type_script_setup_true_lang.0bd9a5e3.js";const Y=e({__name:"tm-slide-switch",props:{...v,...{width:{type:Number,default:750},height:{type:Number,default:88},disabled:{type:Boolean,default:!1},transprent:{type:Boolean,default:!1},color:{type:String,default:"white"},round:{type:Number,default:0},openStatus:{type:Boolean,default:!1},leftWidth:{type:Number,default:120},rightWidth:{type:Number,default:220}}},emits:["click","open","close","update:open-status"],setup(e,{expose:x,emit:m}){var _;const b=e;null==(_=g())||_.proxy,t(null);const v=t({}),y=t(b.disabled),W=t(!1);t(!1);const k=l((()=>b.leftWidth)),S=l((()=>b.rightWidth)),X=l((()=>({width:Math.ceil(uni.$tm.u.topx(b.width)),height:Math.ceil(uni.$tm.u.topx(b.height)),disabled:b.disabled,leftWidth:Math.ceil(uni.$tm.u.topx(b.leftWidth)),rightWidth:Math.ceil(uni.$tm.u.topx(b.rightWidth))}))),Y=i({leftWidth:Math.ceil(uni.$tm.u.topx(b.leftWidth)),rightWidth:Math.ceil(uni.$tm.u.topx(b.rightWidth)),offset:0,startOffset:0,dragging:!1,startX:0,startY:0,direction:"",deltaX:0,deltaY:0,offsetX:0,offsetY:0});function j(e,t){"style"==e?v.value=t:"closeOther"==e||("open"==e?(m("update:open-status",!0),m("open",!0)):"close"==e&&(m("update:open-status",!1),m("close",!1)))}r((()=>{W.value=b.openStatus,setTimeout((()=>{D()}),100)})),a((()=>b.openStatus),((e,t)=>{e?I("right"):O()}));var D=function(){W.value&&Y.rightWidth>0?M(-Y.rightWidth):W.value&&Y.leftWidth>0&&M(Y.leftWidth)},M=function(e){var t,l,i;void 0===e&&(e=0),Y.offset=(t=e,l=-Y.rightWidth,i=0,Math.min(Math.max(t,l),i));var r="translate3d("+Y.offset+"px, 0, 0)",a=Y.dragging?"none":"transform .6s cubic-bezier(0.18, 0.89, 0.32, 1)";j("style",{"-webkit-transform":r,"-webkit-transition":a,transform:r,transition:a})},O=function(){M(0),W.value=!1,j("close",!1)},I=function(e){var t="left"===e?+Y.leftWidth:-Y.rightWidth;W.value=!0,M(t),j("open",!0)};const E=e=>{Y.direction="",Y.deltaX=0,Y.deltaY=0,Y.offsetX=0,Y.offsetY=0,Y.startOffset=Y.offset;var t=e.touches[0];Y.startX=t.clientX,Y.startY=t.clientY,j("closeOther",!1)},z=e=>{var t,l,i=e.touches[0];Y.deltaX=i.clientX-Y.startX,Y.deltaY=i.clientY-Y.startY,Y.offsetX=Math.abs(Y.deltaX),Y.offsetY=Math.abs(Y.deltaY),Y.direction=Y.direction||(t=Y.offsetX,l=Y.offsetY,t>l&&t>10?"horizontal":l>t&&l>10?"vertical":""),"horizontal"===Y.direction&&(Y.dragging=!0,M(Y.startOffset+Y.deltaX))},N=e=>{Y.dragging=!1,+Y.rightWidth>0&&-Y.startOffset<+Y.rightWidth&&-Y.offset>.3*+Y.rightWidth?I("right"):+Y.leftWidth>0&&Y.startOffset<+Y.leftWidth&&Y.offset>.3*+Y.leftWidth?I("left"):Y.startOffset!==Y.offset&&O()};return x({close:O,open:I}),(e,t)=>{const l=w;return o(),n(l,null,{default:s((()=>[y.value?p("v-if",!0):(o(),n(l,{key:0,onTouchstart:E,onTouchmove:z,onTouchend:N,onTouchcancel:N,style:d(`width:${h(X).width}px;height:${h(X).height}px `),class:f(["overflow relative",[h(X).disabled?"opacity-7":""]])},{default:s((()=>[u(l,{class:"flex flex-row flex-row-center-between"},{default:s((()=>[u(l,{id:"left",style:d({width:`${h(k)}px`,height:`${h(X).height}px`})},{default:s((()=>[c(e.$slots,"left")])),_:3},8,["style"]),u(l,{id:"right",style:d({width:`${h(S)}px`,height:`${h(X).height}px`})},{default:s((()=>[c(e.$slots,"right")])),_:3},8,["style"])])),_:3}),u(l,{id:"wrapper",class:"absolute l-0 t-0",style:d([`width:${h(X).width}px;height:${h(X).height}px;`,v.value])},{default:s((()=>[u($,{onClick:t[0]||(t[0]=e=>m("click")),shadow:0,outlined:b.outlined,borderStyle:b.borderStyle,unit:"px",borderDirection:b.borderDirection,linearDeep:b.linearDeep,linear:b.linear,round:b.round,color:b.color,text:y.value,transprent:b.transprent,width:h(X).width,height:h(X).height,margin:[0,0],padding:[0,0]},{default:s((()=>[c(e.$slots,"default")])),_:3},8,["outlined","borderStyle","borderDirection","linearDeep","linear","round","color","text","transprent","width","height"])])),_:3},8,["style"])])),_:3},8,["style","class"])),y.value?(o(),n(l,{key:1,style:d(`width:${h(X).width}px;height:${h(X).height}px `),class:f(["overflow relative",[h(X).disabled?"opacity-7":""]])},{default:s((()=>[u(l,{class:"flex flex-row flex-row-center-between"},{default:s((()=>[u(l,{id:"left",style:d({width:`${h(k)}px`,height:`${h(X).height}px`})},{default:s((()=>[c(e.$slots,"left")])),_:3},8,["style"]),u(l,{id:"right",style:d({width:`${h(S)}px`,height:`${h(X).height}px`})},{default:s((()=>[c(e.$slots,"right")])),_:3},8,["style"])])),_:3}),u(l,{id:"wrapper",class:"absolute l-0 t-0",style:d([`width:${h(X).width}px;height:${h(X).height}px `])},{default:s((()=>[u($,{onClick:t[1]||(t[1]=e=>m("click")),shadow:0,outlined:b.outlined,borderStyle:b.borderStyle,unit:"px",borderDirection:b.borderDirection,linearDeep:b.linearDeep,linear:b.linear,round:b.round,color:b.color,text:y.value,transprent:b.transprent,width:h(X).width,height:h(X).height,margin:[0,0],padding:[0,0]},{default:s((()=>[c(e.$slots,"default")])),_:3},8,["outlined","borderStyle","borderDirection","linearDeep","linear","round","color","text","transprent","width","height"])])),_:3},8,["style"])])),_:3},8,["style","class"])):p("v-if",!0)])),_:3})}}}),j=e({__name:"slideSwitch",setup(e){const l=110,i=t(!1),r=t([{text:"操作",color:"black"},{text:"删除按钮",color:"green",icon:"tmicon-delete"}]);function a(){i.value=!1}function d(){b({title:"点击了内容区域"})}return setTimeout((()=>{i.value=!0}),1e3),(e,t)=>{const h=w;return o(),n(y,null,{default:s((()=>[u($,null,{default:s((()=>[u(X,{fontSize:24,_class:"font-weight-b",label:"通过与cell组件组合可滑动列表"})])),_:1}),u($,{padding:[0,0],margin:[32,0,32,0]},{default:s((()=>[u(Y,{onClick:d,rightMenu:r.value,width:686,height:84},{right:s((()=>[u(h,{class:"flex flex-row flex-row-center-end"},{default:s((()=>[u($,{_class:"flex flex-row flex-row-center-center",width:l,height:84,color:"red","no-level":"",margin:[0],padding:[0]},{default:s((()=>[u(X,{userInteractionEnabled:!1,label:"收藏"})])),_:1}),u($,{_class:"flex flex-row flex-row-center-center",width:l,height:84,color:"primary","no-level":"",margin:[0],padding:[0]},{default:s((()=>[u(X,{userInteractionEnabled:!1,label:"删除"})])),_:1})])),_:1})])),default:s((()=>[u(W,{margin:[0,0],title:"向左滑动,并点击底部按钮"})])),_:1},8,["rightMenu"]),u(Y,{disabled:"",width:686,height:84},{right:s((()=>[u(h,{class:"flex flex-row flex-row-center-end"},{default:s((()=>[u($,{_class:"flex flex-row flex-row-center-center",width:l,height:84,color:"red","no-level":"",margin:[0],padding:[0]},{default:s((()=>[u(X,{userInteractionEnabled:!1,label:"收藏"})])),_:1}),u($,{_class:"flex flex-row flex-row-center-center",width:l,height:84,color:"primary","no-level":"",margin:[0],padding:[0]},{default:s((()=>[u(X,{userInteractionEnabled:!1,label:"删除"})])),_:1})])),_:1})])),default:s((()=>[u(W,{margin:[0,0],title:"我被禁用了"})])),_:1}),(o(),x(_,null,m(3,(e=>u(Y,{key:e,width:686,height:84},{right:s((()=>[u(h,{class:"flex flex-row flex-row-center-end"},{default:s((()=>[u($,{_class:"flex flex-row flex-row-center-center",width:l,height:84,color:"green","no-level":"",margin:[0],padding:[0]},{default:s((()=>[u(X,{userInteractionEnabled:!1,label:"哈哈"})])),_:1}),u($,{_class:"flex flex-row flex-row-center-center",width:l,height:84,color:"primary","no-level":"",margin:[0],padding:[0]},{default:s((()=>[u(X,{userInteractionEnabled:!1,label:"删除"})])),_:1})])),_:1})])),default:s((()=>[u(W,{margin:[0,0],title:"向左滑动试"+e},null,8,["title"])])),_:2},1024))),64))])),_:1}),u($,null,{default:s((()=>[u(X,{fontSize:24,_class:"font-weight-b",label:"利用插槽放置其它组件"})])),_:1}),u(h,{class:"mx-32 round-2 overflow"},{default:s((()=>[u(Y,{"right-width":220,"open-status":i.value,"onUpdate:openStatus":t[0]||(t[0]=e=>i.value=e),width:686,height:300,round:0,action:r.value},{right:s((()=>[u(h,{class:"flex flex-row flex-row-center-end"},{default:s((()=>[u($,{width:110,_class:"flex flex-row flex-row-center-center",height:300,color:"red","no-level":"",margin:[0],padding:[0]},{default:s((()=>[u(X,{userInteractionEnabled:!1,label:"收藏"})])),_:1}),u($,{onClick:a,width:110,_class:"flex flex-row flex-row-center-center",height:300,color:"primary","no-level":"",margin:[0],padding:[0]},{default:s((()=>[u(X,{userInteractionEnabled:!1,label:"删除"})])),_:1})])),_:1})])),default:s((()=>[u(k,{margin:[0,0],shadow:0,status:"2022-5-2",title:"向左滑动试下",content:"这是一个基础卡片示例，非常简单且实用。这是一个基础卡片示例，非常简单且实用。"},{action:s((()=>[u(h,{class:"flex flex-1 flex-row flex-row-center-end"},{default:s((()=>[u(S,{margin:[24,0],label:"确认","font-size":24,width:120,height:50}),u(S,{color:"white",label:"取消","font-size":24,width:120,height:50})])),_:1})])),_:1})])),_:1},8,["open-status","action"])])),_:1})])),_:1})}}});export{j as default};
