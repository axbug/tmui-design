import{d as e,r as l,c as t,R as a,m as o,at as r,o as n,a as d,w as i,N as u,O as s,u as f,n as c,g as m,j as p,P as y,b as x,k as v,v as h,x as b}from"./index-5c06cf16.js";import{t as g}from"./tm-sheet.2873fe67.js";import{t as w}from"./tm-icon.5716c798.js";import{t as k}from"./tm-text.fdd4f0a8.js";import{c as B}from"./tm-app.20954b06.js";const V=e({__name:"tm-radio-group",props:{disabled:{type:Boolean,default:!1},defaultValue:{type:[String,Number,Boolean],default:""},modelValue:{type:[String,Number,Boolean],default:""},direction:{type:String,default:"row"},align:{type:String,default:"left"},model:{type:String,default:"radio"}},emits:["update:modelValue","change"],setup(e,{expose:y,emit:x}){var v;const h=e;null==(v=m())||v.proxy;let b=[];const g=l(h.defaultValue||h.modelValue),w=t((()=>"row"==h.direction?{left:"flex-row-center-start",center:"flex-row-center-center",right:"flex-row-center-end"}[h.align]:{left:"flex-col-center-start",center:"flex-col-center-center",right:"flex-col-center-end"}[h.align]));return a((()=>h.modelValue),(()=>{g.value=h.modelValue}),{deep:!0}),o((()=>{const e=b.filter((e=>e==g.value));e.length>0&&(g.value=e[0]),x("update:modelValue",g.value)})),r("tmRadioBoxDisabled",t((()=>h.disabled))),r("tmRadioBoxVal",g),r("tmRadioBoxModel",t((()=>"radio"==h.model))),r("tmCheckedBoxDir",h.direction),y({pushKey:function(e){b.push(e)},addKey:function(e){g.value=e,x("update:modelValue",g.value),o((()=>{x("change",g.value)}))},checkBoxkeyId:"tmRadioBoxGroup"}),(e,l)=>{const t=p;return n(),d(t,{class:s(["flex",["row"==h.direction?"flex-row":"flex-col","customCol"==h.direction?"":f(w)]]),style:c({flexWrap:"customCol"==h.direction?"nowrap":"wrap"})},{default:i((()=>[u(e.$slots,"default")])),_:3},8,["class","style"])}}}),S=e({__name:"tm-radio",props:{...B,followTheme:{type:[Boolean,String],default:!0},size:{type:Number,default:42},outlined:{type:Boolean,default:!1},transprent:{type:Boolean,default:!1},custom:{type:Boolean,default:!0},color:{type:String,default:"primary"},round:{type:Number,default:24},border:{type:Number,default:2},value:{type:[String,Number,Boolean],default:""},modelValue:{type:[String,Number,Boolean],default:""},label:{type:[String,Number],default:""},defaultChecked:{type:[Boolean],default:!1},beforChecked:{type:[Function,String,Boolean],default:()=>!1},disabled:{type:Boolean,default:!1},fontSize:{type:Number,default:26},icon:{type:String,default:"tmicon-check"},disabledClass:{type:String,default:"opacity-5"},margin:{type:Array,default:()=>[16,8]}},emits:["update:modelValue","change","click"],setup(e,{emit:r}){var B;const V=e,S=(null==(B=m())?void 0:B.proxy)??null;l(!1);const z=l(V.defaultChecked??!1),_=y("tmRadioBoxVal",t((()=>""))),C=y("tmRadioBoxDisabled",t((()=>!1))),D=y("tmRadioBoxModel",t((()=>!1))),N=y("tmCheckedBoxDir",t((()=>"row"))),R=t((()=>V.disabled||C.value));function j(e){let l=!1,t=void 0===e?_.value:e;return V.modelValue===V.value&&void 0!==V.value&&""!==V.value&&""!==V.modelValue&&(l=!0),V.value===t&&""!==t&&""!==V.value&&(l=!0),l}async function I(){if(r("click"),!R.value&&!z.value){if("function"==typeof V.beforChecked){h({title:"...",mask:!0});let e=await V.beforChecked();if("function"==typeof e&&(e=await e()),b(),!e)return}z.value=!0,K&&K.addKey(V.value),r("update:modelValue",V.value),o((()=>{r("change",z.value)}))}}j()&&(z.value=!0,r("update:modelValue",V.value)),a([()=>V.modelValue,()=>V.value,()=>_.value],(()=>{z.value=j()}),{deep:!0});let K=null==S?void 0:S.$parent;for(;K&&"tmRadioBoxGroup"!=(null==K?void 0:K.checkBoxkeyId)&&K;)K=(null==K?void 0:K.$parent)??void 0;return K&&K.pushKey(V.value),(e,l)=>{const t=p;return n(),d(t,{class:s(["flex",[f(R)?V.disabledClass:"","row"==f(N)?"flex-row":"","customCol"==f(N)?"flex-1":""]])},{default:i((()=>[x(t,{onClick:I,class:"flex flex-row flex-row-center-start flex-1"},{default:i((()=>[V.custom?(n(),d(g,{key:0,parenClass:"flex-shrink",class:"flex-shrink",linear:V.linear,linearDeep:V.linearDeep,followTheme:V.followTheme,followDark:V.followDark,dark:V.dark,shadow:V.shadow,userInteractionEnabled:!1,width:f(D)?V.size:0,height:f(D)?V.size:0,text:!z.value&&!V.outlined,border:V.border,"border-style":V.borderStyle,transprent:V.transprent,outlined:V.outlined,padding:f(D)?[0,0]:[16,10],margin:f(D)?V.margin:[8,8],color:f(R)?"grey-2":V.color,round:V.round,_class:"flex-row flex-row-center-center",_style:"transition:background-color 0.24s"},{default:i((()=>[z.value&&f(D)?(n(),d(t,{key:0,style:c({width:V.size-2*V.border+"rpx",height:V.size-2*V.border+"rpx"}),class:"flex flex-row flex-row-center-center relative t--0"},{default:i((()=>[x(w,{"font-size":.6*V.size,"line-height":-1,name:V.icon},null,8,["font-size","name"])])),_:1},8,["style"])):v("v-if",!0),v(' <tm-translate :duration="100" v-if="_checked && _is_radio" name="zoom">\r\n          \r\n        </tm-translate> '),f(D)?v("v-if",!0):(n(),d(k,{key:1,"font-size":V.fontSize,label:V.label},null,8,["font-size","label"]))])),_:1},8,["linear","linearDeep","followTheme","followDark","dark","shadow","width","height","text","border","border-style","transprent","outlined","padding","margin","color","round"])):v("v-if",!0),x(t,{class:"flex-1"},{default:i((()=>[u(e.$slots,"default",{checked:{checked:z.value}},(()=>[f(D)?(n(),d(k,{key:0,userInteractionEnabled:!1,class:"flex-1 flex-wrap","font-size":V.fontSize,label:V.label},null,8,["font-size","label"])):v("v-if",!0)]))])),_:3})])),_:3})])),_:3},8,["class"])}}});export{V as _,S as a};
