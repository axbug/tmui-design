import{d as e,r as t,c as l,R as a,at as o,o as r,a as n,w as i,b as u,N as s,O as c,n as d,u as f,g as p,L as v,j as m,M as y,P as w,k as b,V as h,v as g,x as k,e as x,f as _,F as C}from"./index-5c06cf16.js";import{c as S,t as D}from"./tm-app.20954b06.js";import{t as $}from"./tm-sheet.2873fe67.js";import{t as z}from"./tm-text.fdd4f0a8.js";import{t as j}from"./tm-icon.5716c798.js";import{_ as N}from"./tm-divider.vue_vue_type_script_setup_true_lang.0bd9a5e3.js";const E=e({__name:"tm-steps",props:{direction:{type:String,default:"horizontal"},current:{type:[Number],default:0},defaultCurrent:{type:Number,default:0},status:{type:String,default:""},showLine:{type:Boolean,default:!0},changeable:{type:Boolean,default:!1},beforeStepChange:{type:[Function,Boolean],default:()=>!1},color:{type:String,default:"grey-3"},activeColor:{type:String,default:"primary"},type:{type:String,default:"dot"}},emits:["change","update:current","step-click"],setup(e,{expose:y,emit:w}){var b;const h=e;null==(b=p())||b.proxy;const g=t(h.defaultCurrent??-1),k=t(-1),x=t(0),_=l((()=>Math.ceil(v(x.value))+"px"));return a((()=>h.current),(()=>{g.value=h.current,w("change",g.value)})),o("tmStepsCureent",l((()=>g.value))),o("tmStepsCountCureent",l((()=>k.value))),o("tmStepsCountActiveColor",l((()=>h.activeColor))),o("tmStepsCountColor",l((()=>h.color))),y({pushKey:function(e=150){return k.value+=1,x.value+=e,k.value},compoenentName:"tmSteps",steplick:function(e){g.value=e,w("step-click",e),w("update:current",g.value)},delKey:function(e=150){return k.value-=1,x.value-=e,k.value}}),(e,t)=>{const l=m;return r(),n(l,{class:"flex flex-row flex-row-center-center"},{default:i((()=>[u(l,{class:c(["flex relative",["horizontal"==h.direction?"flex-row flex-row-top-center":""]]),style:d({width:f(_)}),ref:"contentbody"},{default:i((()=>[s(e.$slots,"default")])),_:3},8,["style","class"])])),_:3})}}}),P=e({__name:"tm-steps-item",props:{...S,transprent:{type:Boolean,default:!1},color:{type:String,default:""},activeColor:{type:String,default:""},title:{type:String,default:""},label:{type:String,default:""},icon:{type:String,default:""},size:{type:Number,default:32},width:{type:Number,default:150}},setup(e){var a;const o=e,x=(null==(a=p())?void 0:a.proxy)??null;let _=null==x?void 0:x.$parent;for(;_&&"tmSteps"!=(null==_?void 0:_.compoenentName)&&_;)_=(null==_?void 0:_.$parent)??void 0;t(!1);const C=t((null==_?void 0:_.pushKey(o.width))??0);y((()=>{_&&(C.value=null==_?void 0:_.delKey(o.width))}));const S=w("tmStepsCountCureent",l((()=>1))),D=w("tmStepsCureent",l((()=>-1))),E=w("tmStepsCountActiveColor",l((()=>"primary"))),P=w("tmStepsCountColor",l((()=>"grey-3"))),B=l((()=>o.activeColor?o.activeColor:E.value)),I=l((()=>_.$props.type)),K=l((()=>"dot"!=I.value?o.size:20)),M={wait:{color:B.value,icon:"tmicon-clock-fill"},process:{color:"grey-2",icon:"tmicon-loading"},finish:{color:"green",icon:"tmicon-check"},error:{color:"red",icon:"tmicon-times"}},L=l((()=>O.value&&M.hasOwnProperty(_.$props.status)?M[String(_.$props.status)]:null)),O=l((()=>C.value===D.value)),T=l((()=>C.value<D.value)),A=l((()=>L.value&&O.value?L.value.color:T.value?B.value:o.color?o.color:P.value)),F=l((()=>o.icon));l((()=>_.$props.showLine));const V=l((()=>Math.ceil(v(o.width))+"px")),J=l((()=>Math.ceil(v(o.width-K.value-16)/2)+"px"));async function R(){if(_.$props.changeable){if("function"==typeof _.$props.beforeStepChange){g({title:"...",mask:!0});let e=await _.$props.beforeStepChange();if("function"==typeof e&&(e=await e()),k(),!e)return}null==_||_.steplick(C.value)}}return(e,t)=>{const l=m;return r(),n(l,{class:c(["relative flex-1","flex flex-col flex-col-center-center overflow",C.value<f(S)?"flex-1":""]),style:d({width:f(V)})},{default:i((()=>[b(" 线 "),u(l,{class:"flex-1 flex-row flex-row-center-between absolute",style:d({width:f(V),top:f(K)/2+"rpx"})},{default:i((()=>[u(l,{style:d({width:f(J)})},{default:i((()=>[C.value>0?(r(),n(N,{key:0,border:2,color:f(A),followDark:o.followDark,dark:o.dark,margin:[0,0]},null,8,["color","followDark","dark"])):b("v-if",!0)])),_:1},8,["style"]),u(l,{style:d({width:f(J)})},{default:i((()=>[C.value<f(S)?(r(),n(N,{key:0,border:2,color:f(A),followDark:o.followDark,dark:o.dark,margin:[0,0]},null,8,["color","followDark","dark"])):b("v-if",!0)])),_:1},8,["style"])])),_:1},8,["style"]),b(" 内容 区域。 "),u(l,{onClick:h(R,["stop"]),class:"flex flex-col relative",style:{"justify-content":"flex-start","align-items":"center"}},{default:i((()=>[u($,{eventPenetrationEnabled:!0,"no-level":"",followTheme:o.followTheme,followDark:o.followDark,dark:o.dark,shadow:o.shadow,outlined:o.outlined,borderStyle:o.borderStyle,borderDirection:o.borderDirection,text:!f(T)&&!f(L),linearDeep:o.linearDeep,linear:o.linear,color:f(A),round:24,_class:"flex-center",margin:[0,0],padding:[0,0],width:f(K),height:f(K)},{default:i((()=>[f(F)||f(L)||"dot"==f(I)?b("v-if",!0):(r(),n(z,{key:0,userInteractionEnabled:!1,"font-size":22,label:C.value+1},null,8,["label"])),f(L)&&f(O)&&"dot"!=f(I)?(r(),n(j,{key:1,"font-size":22,name:f(L).icon},null,8,["name"])):b("v-if",!0),!f(L)&&f(F)&&"dot"!=f(I)?(r(),n(j,{key:2,"font-size":22,name:f(F)},null,8,["name"])):b("v-if",!0)])),_:1},8,["followTheme","followDark","dark","shadow","outlined","borderStyle","borderDirection","text","linearDeep","linear","color","width","height"]),u(l,{eventPenetrationEnabled:!0,style:{width:"120rpx"},class:"flex flex-col flex-col-center-center mt-12"},{default:i((()=>[s(e.$slots,"default",{},(()=>[o.title?(r(),n(z,{key:0,userInteractionEnabled:!1,color:f(T)?f(B):"",_class:"text-overflow-2","font-size":24,label:o.title},null,8,["color","label"])):b("v-if",!0),o.label?(r(),n(z,{key:1,userInteractionEnabled:!1,color:f(T)?f(B):"",_class:"text-overflow-2 opacity-5","font-size":22,label:o.label},null,8,["color","label"])):b("v-if",!0)]))])),_:3})])),_:3},8,["onClick"])])),_:3},8,["class","style"])}}}),B=e({__name:"steps",setup(e){const l=t([{title:"开始",label:"33"},{title:"投放中",label:""},{title:"审核",label:""},{title:"最后审查",label:""},{title:"完成",label:""}]),a=t([{title:"开始"},{title:"投放中"},{title:"审核"}]);function o(){console.log(11)}return(e,t)=>(r(),n(D,null,{default:i((()=>[u($,null,{default:i((()=>[u(z,{fontSize:24,_class:"font-weight-b",label:"基础属性,更多玩法请前往文档。"})])),_:1}),u($,{padding:[0,24],margin:[0,0]},{default:i((()=>[u(E,{color:"primary",defaultCurrent:1},{default:i((()=>[(r(!0),x(C,null,_(l.value,((e,t)=>(r(),n(P,{label:e.label,width:150,title:e.title,key:t},null,8,["label","title"])))),128))])),_:1})])),_:1}),u($,{padding:[0,24],margin:[0,0]},{default:i((()=>[u(E,{type:"number",activeColor:"green",defaultCurrent:2},{default:i((()=>[(r(!0),x(C,null,_(a.value,((e,t)=>(r(),n(P,{width:200,title:e.title,key:t},null,8,["title"])))),128))])),_:1})])),_:1}),u($,{padding:[0,24],margin:[0,0]},{default:i((()=>[u(E,{changeable:"",onStepClick:o,activeColor:"green",status:"error",defaultCurrent:1},{default:i((()=>[(r(!0),x(C,null,_(a.value,((e,t)=>(r(),n(P,{title:e.title,key:t},null,8,["title"])))),128))])),_:1})])),_:1})])),_:1}))}});export{B as default};
