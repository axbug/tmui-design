import{d as e,r as t,P as a,c as l,ad as o,R as u,o as r,a as n,w as d,N as i,b as s,u as m,n as f,g as p,L as h,m as c,j as y}from"./index-5c06cf16.js";import{c as g}from"./tm-app.20954b06.js";import{t as v}from"./tm-time-view.9431ffc9.js";import{t as b}from"./tm-drawer.5aba0891.js";import{t as w}from"./tm-button.5fc2eaaa.js";const S=e({__name:"tm-time-picker",props:{...g,show:{type:Boolean,default:!1},immediateChange:{type:Boolean,default:!1},modelValue:{type:[Number,String,Date],default:""},modelStr:{type:[String],default:""},defaultValue:{type:[Number,String,Date],default:""},disabledDate:{type:Array,default:()=>[]},format:{type:String,default:"YYYY/MM/DD"},showDetail:{type:Object,default:()=>({year:!0,month:!0,day:!0,hour:!1,minute:!1,second:!1})},showSuffix:{type:Object,default:()=>({year:"年",month:"月",day:"日",hour:"时",minute:"分",second:"秒"})},start:{type:[Number,String,Date],default:"2008/01/01 00:00:00"},end:{type:[Number,String,Date],default:""},height:{type:Number,default:700},color:{type:String,default:"primary"},linear:{type:String,default:""},linearDeep:{type:String,default:"light"},btnRound:{type:Number,default:3},round:{type:Number,default:12},title:{type:String,default:"请选择时间"}},emits:["update:modelValue","update:modelStr","update:show","confirm","change","cancel","close","open"],setup(e,{emit:g}){var S;const D=e;null==(S=p())||S.proxy;const V=t(null),C=t(D.show),j=t(!1),k=t(D.defaultValue),x=t(""),N=a("tmuiSysInfo",l((()=>({bottom:0,height:750,width:h(750),top:0,isCustomHeader:!1,sysinfo:null}))));function _(){j.value||(g("cancel"),k.value="",c((()=>{k.value=D.modelValue?D.modelValue:D.defaultValue}))),g("close"),g("update:show",!1),j.value=!1}function O(){g("open")}function Y(e){g("change",e)}function R(){g("confirm",k.value),g("update:modelValue",k.value),g("update:modelStr",x.value),c((()=>{var e;j.value=!0,null==(e=V.value)||e.close()}))}o((()=>{C.value=D.show})),u((()=>D.modelValue),(()=>{k.value=D.modelValue}),{deep:!0});const U=l((()=>D.height+N.value.bottom+80));return(e,t)=>{const a=y;return r(),n(a,{onClick:t[3]||(t[3]=e=>C.value=!C.value)},{default:d((()=>[i(e.$slots,"default"),s(b,{disabbleScroll:!0,round:D.round,ref_key:"drawer",ref:V,height:m(U),"onUpdate:show":t[2]||(t[2]=e=>C.value=e),show:C.value,onClose:_,"ok-color":D.color,onOpen:O,title:D.title,closeable:!0,onOk:R},{default:d((()=>[s(v,{height:m(U)-230,"onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),"model-value":k.value,"onUpdate:modelStr":t[1]||(t[1]=e=>x.value=e),"model-str":x.value,"default-value":k.value,onChange:Y,disabledDate:D.disabledDate,format:D.format,showDetail:D.showDetail,showSuffix:D.showSuffix,start:D.start,end:D.end,immediateChange:D.immediateChange},null,8,["height","model-value","model-str","default-value","disabledDate","format","showDetail","showSuffix","start","end","immediateChange"]),s(w,{label:"确认选择",block:"",margin:[32,12],color:D.color,linear:D.linear,"linear-deep":D.linearDeep,onClick:R,round:D.btnRound},null,8,["color","linear","linear-deep","round"]),s(a,{style:f({height:m(N).bottom+"px"})},null,8,["style"])])),_:1},8,["round","height","show","ok-color","title"])])),_:3})}}});export{S as _};
