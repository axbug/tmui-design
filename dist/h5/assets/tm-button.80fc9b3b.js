var e=Object.defineProperty,n=Object.defineProperties,o=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(n,o,t)=>o in n?e(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t,i=(e,n)=>{for(var o in n||(n={}))a.call(n,o)&&l(e,o,n[o]);if(t)for(var o of t(n))r.call(n,o)&&l(e,o,n[o]);return e},d=(e,t)=>n(e,o(t));import{d as u,r as s,c as g,o as p,a as f,w as c,M as m,u as v,j as h,T as y,a0 as b,N as C,n as S,g as w,K as z,h as k,at as T,au as x,_ as M}from"./index-6b165856.js";import{t as I}from"./tm-icon.65b53dc0.js";import{c as P,u as B,d as $,i as j,f as O,g as F,h as _}from"./tm-app.d6cf2f93.js";const L=M(u({__name:"tm-button",props:d(i({},P),{transprent:{type:Boolean,default:!1},followTheme:{type:Boolean,default:!0},hoverClass:{type:String,default:"opacity-7"},size:{type:String,default:"normal"},fontSize:{type:Number,default:0},fontColor:{type:String,default:""},margin:{type:Array,default:()=>[0,16]},padding:{type:Array,default:()=>[0,0]},noLevel:{type:Boolean,default:!1},shadow:{type:Number,default:0},width:{type:Number,default:0},height:{type:Number,default:0},block:{type:Boolean,default:!1},round:{type:Number,default:0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},url:{type:String,default:""},label:{type:String,default:""},icon:{type:String,default:""},formType:{type:String,default:""},openType:{type:String,default:""},appParameter:{type:String,default:""},sessionFrom:{type:String,default:""},sendMessageTitle:{type:String,default:""},sendMessagePath:{type:String,default:""},sendMessageImg:{type:String,default:""},sendMessageCard:{type:String,default:""},groupId:{type:String,default:""},guildId:{type:String,default:""},publicId:{type:String,default:""},unit:{type:String,default:"rpx"},darkBgColor:{type:String,default:""},disabledColor:{type:String,default:"grey-1"}}),emits:["click","touchstart","touchmove","touchcancel","touchend","tap","longpress","getphonenumber","getUserInfo","getUserProfile","error","opensetting","launchapp","contact","chooseavatar"],setup(e,{emit:n}){var o,t,a,r;const l=e,u=B();s(!1);const M=null!=(t=null==(o=w())?void 0:o.proxy)?t:null,P=g((()=>l.formType));let L=null,N=null;if("reset"==P.value||"submit"==P.value)for(L=null==M?void 0:M.$parent;L&&"tmFormId"!=(null==L?void 0:L.tmFormComnameId)&&L;)L=null!=(a=null==L?void 0:L.$parent)?a:void 0;if("filterCancel"==P.value||"filterConfirm"==P.value)for(N=null==M?void 0:M.$parent;N&&"FilterMenu"!=(null==N?void 0:N.FilterMenu)&&N;)N=null!=(r=null==N?void 0:N.$parent)?r:void 0;const A=g((()=>l.noLevel)),D=g((()=>$(l,U.value)));let E=g((()=>j.isCssColor(Z.value)?Z.value:l.fontColor?j.getColor(l.fontColor).value:K.value.textColor));const H=g((()=>i({},O(l)))),R=g((()=>F(l))),U=g((()=>u.tmStore)),G=g((()=>{var e,n,o,t;return l.shadow||(null!=(t=null==(o=null==(n=null==(e=u.tmuiConfig.themeConfig)?void 0:e.component)?void 0:n.button)?void 0:o.shadow)?t:0)})),K=g((()=>{let e=d(i({},l),{shadow:G.value});return J.value&&(e.color=l.disabledColor),_(i({},e),D.value,U.value)})),W=s(!1),q=g((()=>l.loading)),J=g((()=>l.disabled)),Q=g((()=>l.label)),V=g((()=>l.icon));g((()=>l.outlined&&0==l.border?1:l.border>0?l.border:0));const X=g((()=>{let e={block:{w:0,h:80,fontSize:28,round:3},mini:{w:88,h:36,fontSize:20,round:3},small:{w:120,h:56,fontSize:22,round:3},normal:{w:220,h:80,fontSize:28,round:3},middle:{w:300,h:80,fontSize:30,round:3},large:{w:375,h:80,fontSize:32,round:3}};if("px"==l.unit){let n="block",o="w";for(n in e)for(o in e[n])e[n][o]=z(e[n][o])}return e})),Y=g((()=>{var e,n,o,t,a,r,i,d;let s=l.fontSize||0;return l.block?{w:0,h:l.height||X.value.block.h,fontSize:s||X.value.block.fontSize,round:-1==l.round?0:l.round||(null!=(t=null==(o=null==(n=null==(e=u.tmuiConfig.themeConfig)?void 0:e.component)?void 0:n.button)?void 0:o.round)?t:0)||X.value.normal.round}:{w:l.width||X.value[l.size].w,h:l.height||X.value[l.size].h,fontSize:s||X.value[l.size].fontSize,round:-1==l.round?0:l.round||(null!=(d=null==(i=null==(r=null==(a=u.tmuiConfig.themeConfig)?void 0:a.component)?void 0:r.button)?void 0:i.round)?d:0)||X.value[l.size].round}})),Z=g((()=>l.fontColor)),ee=g((()=>l.transprent)),ne=g((()=>1==l.margin.length?[l.margin[0],l.margin[0],l.margin[0],l.margin[0]]:2==l.margin.length?[l.margin[0],l.margin[1],l.margin[0],l.margin[1]]:3==l.margin.length?[l.margin[0],l.margin[1],l.margin[2],0]:4==l.margin.length?[l.margin[0],l.margin[1],l.margin[2],l.margin[3]]:[0,0,0,0])),oe=g((()=>1==l.padding.length?[l.padding[0],l.padding[0],l.padding[0],l.padding[0]]:2==l.padding.length?[l.padding[0],l.padding[1],l.padding[0],l.padding[1]]:3==l.padding.length?[l.padding[0],l.padding[1],l.padding[2],0]:4==l.padding.length?[l.padding[0],l.padding[1],l.padding[2],l.padding[3]]:[0,0,0,0])),te=g((()=>{var e;return!0===ee.value?"background-color:rgba(255,255,255,0);":""!==l.darkBgColor&&!0===D.value?`background-color:${l.darkBgColor};`:2==l.linearColor.length?{"background-image":`linear-gradient(${K.value.linearDirectionStr},${l.linearColor[0]},${l.linearColor[1]})`}:2==(null==(e=K.value.gradientColor)?void 0:e.length)?K.value.backgroundColorCss:A.value&&!0===K.value.isBlackAndWhite&&!0===D.value?`background-color: ${K.value.inputcolor}`:`background-color: ${K.value.backgroundColor}`}));function ae(e){W.value=!0,n("touchstart",e)}function re(e){W.value=!1,n("touchend",e)}function le(e){if(null!=L&&void 0!==L&&P.value&&!l.loading&&L[P.value](),null!=N&&void 0!==N&&P.value&&!l.loading&&N[P.value](),!l.loading){if(n("click",e),""!==l.url&&"string"==typeof l.url){let e=l.url;return"/"!==e[0]&&(e="/"+e),void k({url:e})}"getUserInfo"==l.openType||l.openType}}return T("appTextColor",E),(e,o)=>{const t=x;return p(),f(t,{onClick:le,onTouchstart:ae,onTouchend:re,onLongpress:o[0]||(o[0]=e=>n("longpress",e)),onTouchcancel:o[1]||(o[1]=e=>{W.value=!1,n("touchcancel",e)}),onTouchmove:o[2]||(o[2]=e=>n("touchmove",e)),onGetphonenumber:o[3]||(o[3]=e=>n("getphonenumber",e)),onError:o[4]||(o[4]=e=>n("error",e)),onOpensetting:o[5]||(o[5]=e=>n("opensetting",e)),onLaunchapp:o[6]||(o[6]=e=>n("launchapp",e)),onContact:o[7]||(o[7]=e=>n("contact",e)),onChooseavatar:o[8]||(o[8]=e=>n("chooseavatar",e)),"form-type":l.formType,openType:l.openType,appParameter:l.appParameter,sessionFrom:l.sessionFrom,sendMessageTitle:l.sendMessageTitle,sendMessagePath:l.sendMessagePath,sendMessageImg:l.sendMessageImg,sendMessageCard:l.sendMessageCard,loading:v(q),disabled:v(J),"group-id":l.groupId,"guild-id":l.guildId,"public-id":l.publicId,"hover-start-time":1e7,"hover-stop-propagation":"",class:C(["button alipay flex flex-row flex-row-center-center",!W.value||v(J)||v(q)?"":l.hoverClass+" bhover",v(J)||v(q)?"":"webpc",v(q)||v(J)?"opacity-8":"",e.isDisabledRoundAndriod?"":`round-${v(Y).round}`,v(R)]),style:S([{marginLeft:v(ne)[0]+"rpx",marginTop:v(ne)[1]+"rpx",marginRight:v(ne)[2]+"rpx",marginBottom:v(ne)[3]+"rpx",paddingLeft:v(oe)[0]+"rpx",paddingTop:v(oe)[1]+"rpx",paddingRight:v(oe)[2]+"rpx",paddingBottom:v(oe)[3]+"rpx"},{height:v(Y).h+l.unit,fontSize:v(Y).fontSize+l.unit,color:v(E),lineHeight:v(Y).h+l.unit},v(Y).w&&!l.block?{width:v(Y).w+l.unit}:"",v(K).borderCss,v(te),!v(ee)&&v(G)>0&&!l.text?v(K).shadowColor:"",v(H)])},{default:c((()=>[m(e.$slots,"default",{},(()=>[v(V)&&!v(q)?(p(),f(I,{key:0,lineHeight:.9*v(Y).fontSize,userInteractionEnabled:!1,color:v(Z),_class:v(Q)?"pr-10":"",unit:l.unit,fontSize:.9*v(Y).fontSize,name:v(V)},null,8,["lineHeight","color","_class","unit","fontSize","name"])):h("v-if",!0),y(" "+b(v(Q)),1)]),!0)])),_:3},8,["form-type","openType","appParameter","sessionFrom","sendMessageTitle","sendMessagePath","sendMessageImg","sendMessageCard","loading","disabled","group-id","guild-id","public-id","class","style"])}}}),[["__scopeId","data-v-93257763"]]);export{L as t};
