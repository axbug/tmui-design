var r,e,o,t,a=Object.defineProperty,l=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,b=(r,e,o)=>e in r?a(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,h=(r,e)=>{for(var o in e||(e={}))i.call(e,o)&&b(r,o,e[o]);if(n)for(var o of n(e))d.call(e,o)&&b(r,o,e[o]);return r},u=(r,e)=>l(r,s(e));import{ag as c,g,ah as f,ai as m,aj as p,ak as y,al as C,H as k,am as v,an as T,d as S,c as D,r as x,ao as w,ae as B,m as $,Q as R,ap as A,aq as F,ar as I,as as N,at as O,o as M,a as _,w as V,M as j,b as L,T as E,n as W,u as H,W as P,i as G,_ as z}from"./index-6b165856.js";const J=r=>(e,o=g())=>{!y&&c(r,e,o)},q=J(f),Q=J(m),U=J(p);var K={rgbaToHsla(r){let{r:e,g:o,b:t,a:a}=r;e/=255,o/=255,t/=255;var l,s,n=Math.max(e,o,t),i=Math.min(e,o,t);return(l=n===i?0:n===e?60*(o-t)/(n-i):n===o?60*(2+(t-e)/(n-i)):60*(4+(e-o)/(n-i)))<0&&(l+=360),s=(n+i)/2,{h:l,s:100*(n===i?0:s<.5?(n-i)/(n+i):(n-i)/(2-n-i)),l:100*s,a:a}},hslaToRgba(r){let{h:e,s:o,l:t,a:a}=r;var l,s,n;if(e/=360,o/=100,t/=100,0===o)l=s=n=t;else{let r=function(r,e,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?r+6*(e-r)*o:o<.5?e:o<2/3?r+(e-r)*(2/3-o)*6:r};var i=t<.5?t*(1+o):t+o-t*o,d=2*t-i;l=r(d,i,e+1/3),s=r(d,i,e),n=r(d,i,e-1/3)}return{r:Math.round(255*l),g:Math.round(255*s),b:Math.round(255*n),a:a}},cssToRgba:function(r){if(!r)return{r:0,g:0,b:0,a:0};if((r=r.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(r)){if(4===r.length){let e="#";for(let o=1;o<4;o+=1)e+=r.slice(o,o+1).concat(r.slice(o,o+1));r=e}let e=[];for(let o=1;o<7;o+=2)e.push(parseInt("0x"+r.slice(o,o+2)));return{r:e[0],g:e[1],b:e[2],a:1}}if(/^(rgb|RGB|rgba|RGBA)/.test(r)){let e=r.replace(/(?:\(|\)|rgba|rgb|RGB|RGBA)*/g,"").split(",").map((r=>Number(r)));return e.length<3?{r:0,g:0,b:0,a:1}:(3==e.length&&e.push(1),{r:e[0],g:e[1],b:e[2],a:e[3]})}return{r:0,g:0,b:0,a:1}},rgbaToHsva:function(r){if(!r)return{h:0,s:1,v:1,a:1};const e=r.r/255,o=r.g/255,t=r.b/255,a=Math.max(e,o,t),l=Math.min(e,o,t);let s=0;a!==l&&(a===e?s=60*(0+(o-t)/(a-l)):a===o?s=60*(2+(t-e)/(a-l)):a===t&&(s=60*(4+(e-o)/(a-l)))),s<0&&(s+=360);const n=[s,0===a?0:(a-l)/a,a];return{h:n[0],s:n[1],v:n[2],a:r.a}},hsvaToRgba:function(r){var e,o,t,a,l,{h:s,s:n,v:i,a:d}=r,b=0,h=0,u=0;switch(t=i*(1-n),a=i*(1-(o=6*s-(e=Math.floor(6*s)))*n),l=i*(1-(1-o)*n),e%6){case 0:b=i,h=l,u=t;break;case 1:b=a,h=i,u=t;break;case 2:b=t,h=i,u=l;break;case 3:b=t,h=a,u=i;break;case 4:b=l,h=t,u=i;break;case 5:b=i,h=t,u=a}return{r:b,g:h,b:u,a:d}},rgbaToCss:function(r){return`rgba(${r.r},${r.g},${r.b},${r.a})`}},X=(r=>(r.left="left",r.right="right",r.bottom="bottom",r.top="top",r.leftright="x",r.topbottom="y",r.topleft="top-left",r.topright="top-right",r.bottomleft="bottom-left",r.bottomright="bottom-right",r.all="all",r))(X||{}),Y=(r=>(r.left="to left",r.right="to right",r.top="to top",r.bottom="to bottom",r.none="",r))(Y||{}),Z=(r=>(r.light="light",r.dark="dark",r.accent="accent",r))(Z||{}),rr=(r=>(r.solid="solid",r.dashed="dashed",r.dotted="dotted",r))(rr||{});let er=(null==(e=null==(r=null==uni?void 0:uni.$tm)?void 0:r.config)?void 0:e.theme)?h({},uni.$tm.config.theme):{};var or=[],tr=h({red:"#FE1C00",pink:"#CA145D",purple:"#A61BC3","deep-purple":"#6A0E81",indigo:"#652DF4",blue:"#0163FF","light-blue":"#0889FF",cyan:"#11CDE8",teal:"#00998a",green:"#5DBD1F","light-green":"#83D54A",lime:"#D4ED00",yellow:"#FFC400",amber:"#FFFB01",orange:"#FEA600","deep-orange":"#FE5C00",brown:"#795548","blue-grey":"#607D8B",grey:"#9E9E9E",black:"#000000",white:"#FFFFFF",primary:"#0163FF","grey-5":"#fafafa","grey-4":"#f5f5f5","grey-3":"#eeeeee","grey-2":"#e0e0e0","grey-1":"#bdbdbd","grey-darken-1":"#757575","grey-darken-2":"#616161","grey-darken-3":"#404044","grey-darken-4":"#202022","grey-darken-5":"#111112","grey-darken-6":"#0A0A0B"},er);for(const vr in tr)if(Object.prototype.hasOwnProperty.call(tr,vr)){const r=String(tr[vr]);if(ar(r)){let e=K.cssToRgba(r);or.push({name:vr,value:r,hsva:K.rgbaToHsva(K.cssToRgba(r)),rgba:K.cssToRgba(r),hsla:K.rgbaToHsla(e),csscolor:`rgba(${e.r},${e.g},${e.b},${e.a})`})}}function ar(r){return/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(r)||/^(rgb|RGB|rgba|RGBA)/.test(r)}const lr={isCssColor:ar,themeColors:class{constructor(r=or){var e;b(this,"symbol"!=typeof(e="colors")?e+"":e,[]),this.colors=r}hasColors(r=""){return this.colors.filter((function(e,o){return e.name==r})).length>0}add(r="",e=""){if(this.colors.filter((function(e,o){return e.name==r})).length>0)return this.colors;if(!e)return console.error("颜色值必填!!!"),this.colors;let o=K.cssToRgba(e),t={csscolor:"",hsva:{h:0,s:0,v:0,a:0},hsla:{h:0,s:0,l:0,a:0},rgba:{r:0,g:0,b:0,a:0},name:r,value:e};return t.csscolor=K.rgbaToCss(o),t.hsva=K.rgbaToHsva(o),t.rgba=o,t.hsla=K.rgbaToHsla(o),this.colors.push(t),this.colors}del(r){let e=this.colors.findIndex((function(e,o){return e.name==r}));-1!=e?this.colors.splice(e,1):console.error("删除失败，主题中不存在相关名称的主题。")}getColor(r){let e=this.colors.findIndex((function(e,o){return e.name==r}));return-1==e&&(r="primary",e=this.colors.findIndex((function(e,o){return e.name==r})),console.error("主题中不存在相关名称的主题。")),this.colors[e]}getTheme(r={colorname:"primary",dark:!1}){var e,o,t,a;r.colorname||(console.error("颜色名称必填"),r.colorname="primary");let l=this.colors.findIndex((e=>e.name==r.colorname));-1==l&&(console.error("主题不存在，默认为primary"),r.colorname="primary");let s=h({},this.colors[l]);function n(r,e,o){return(2126*r+7152*e+722*o)/1e4<180}r.borderWidth=isNaN(parseInt(String(r.borderWidth)))?0:null!=(e=r.borderWidth)?e:0,r.borderStyle=r.borderStyle?r.borderStyle:"solid",r.borderColor=r.borderColor||"",r.borderDirection=r.borderDirection||X.all,r.linearDirection=r.linearDirection||Y.none,r.linearDeep=r.linearDeep||Z.light,r.shadow=isNaN(parseInt(String(r.shadow)))?6:r.shadow,r.round=isNaN(parseInt(String(r.round)))?4:r.round,r.opaticy=isNaN(parseInt(String(r.opaticy)))?1:r.opaticy,r.outlined="boolean"==typeof r.outlined&&r.outlined,r.text="boolean"==typeof r.text&&r.text,r.blur="boolean"==typeof r.blur&&r.blur;let i=!1,d=!1,b=!1,c=!1,g=!1;g=n(s.rgba.r,s.rgba.g,s.rgba.b),0==s.hsla.h&&0==s.hsla.s&&0==s.hsla.l&&(i=!0),0==s.hsla.h&&0==s.hsla.s&&100==s.hsla.l&&(d=!0),0==s.hsla.h&&0==s.hsla.s&&s.hsla.l<100&&(c=!0),0==s.hsla.h&&0==s.hsla.s&&(b=!0);let f={};f.color=s.value,f.config=h({},r),f.isBlackAndWhite=b,f.gradientColor=[],f.colorname=r.colorname;let m=h({},s.hsla);f.borderCss={};let p=h({},s.hsla);r.dark&&!b&&(p.l=40),r.blur&&(p.a=.85),f.backgroundColor=K.rgbaToCss(K.hslaToRgba(h({},p))),b&&r.dark&&(f.backgroundColor=K.rgbaToCss(K.hslaToRgba(u(h({},p),{h:240,s:3,l:8}))),f.border=K.rgbaToCss(K.hslaToRgba(u(h({},m),{h:240,s:3,l:12})))),d&&!r.dark&&(f.border=K.rgbaToCss(K.hslaToRgba(u(h({},m),{l:90})))),i&&!r.dark&&(f.border=K.rgbaToCss(K.hslaToRgba(u(h({},m),{l:12})))),f.backgroundColorCss={"background-color":f.backgroundColor};let y=h({},s.hsla);if(r.dark?y.l=95:y.l=g?95:c?10:20,r.outlined){y.l=s.hsla.l,r.dark?y.l=55:0==s.hsla.h||0==s.hsla.s||n(s.rgba.r,s.rgba.g,s.rgba.b)||(y.l=20),(i||d)&&r.dark&&(y.l=100),r.borderWidth=r.borderWidth||2;let e={h:s.hsla.h,s:s.hsla.s,l:0,a:0},o=K.rgbaToCss(K.hslaToRgba(e));f.backgroundColor=o,f.backgroundColorCss={"background-color":o},f.textColor=K.rgbaToCss(K.hslaToRgba(y))}if(r.text){y.l=s.hsla.l,c?y.l=15:0==s.hsla.h||0==s.hsla.s||n(s.rgba.r,s.rgba.g,s.rgba.b)||(y.l=20),r.dark&&(y.l=60,b||(y.s=100)),i&&(y.l=90),d&&(y.l=15),0==s.hsla.h&&0==s.hsla.s&&r.dark&&(y.l=90),f.textColor=K.rgbaToCss(K.hslaToRgba(y)),f.border=f.textColor;let e=s.csscolor,o={h:s.hsla.h,s:s.hsla.s,l:96,a:s.hsla.a};r.dark&&(0!=s.hsla.h&&0!=s.hsla.s?(o.l=12,o.s=35):(o.l=12,o.s=0)),r.blur&&(o.a=.85),e=K.rgbaToCss(K.hslaToRgba(o)),f.backgroundColor=e,f.backgroundColorCss={"background-color":e}}if(r.shadow){let e={h:s.hsla.h,s:100,l:50,a:.2};0==s.hsla.h&&0==s.hsla.s&&(e={h:0,s:0,l:20,a:.07});let o=K.rgbaToCss(K.hslaToRgba(e));f.shadowColor={boxShadow:`0rpx ${2.5*r.shadow}rpx ${6*r.shadow}rpx ${o}`}}if(r.linearDirection){let e={h:0,s:0,l:0,a:s.hsla.a},o={h:0,s:0,l:0,a:s.hsla.a},t=Y[r.linearDirection],a=0;a=s.hsla.h<180&&s.hsla.h>0?20:-37,0==s.hsla.h&&0==s.hsla.s&&100==s.hsla.l?"light"==r.linearDeep?(e.l=80,o.l=20):(e.l=50,o.l=40):0==s.hsla.h&&0==s.hsla.s&&0==s.hsla.l?"light"==r.linearDeep?(e.l=40,o.l=10):(e.l=30,o.l=0):(o.h=s.hsla.h,o.s=s.hsla.s,e.h=s.hsla.h,e.s=s.hsla.s,"light"==r.linearDeep?(e.h=e.h,e.s=90,e.l=70,o.l=44):"dark"==r.linearDeep?(o.s=90,o.l=26,e.s=90,e.l=50):"accent"==r.linearDeep&&(e.h-=0,e.s=90,e.l=54,o.h-=a,o.s=90,o.l=54)),r.dark&&(e.l=40,o.l=40,y.l=90);let l=K.rgbaToCss(K.hslaToRgba(e)),i=K.rgbaToCss(K.hslaToRgba(o));if(!r.text&&!r.outlined){f.backgroundColorCss={"background-image":`linear-gradient(${t},${l},${i})`};let a={h:(e.h+o.h)/2,s:(e.s+o.s)/2,l:(e.l+o.l)/2,a:(e.a+o.a)/2},d=K.hslaToRgba(a);r.dark||n(d.r,d.g,d.b)||0==s.hsla.h||0==s.hsla.s||(y.l=20),f.backgroundColor=K.rgbaToCss(K.hslaToRgba(a)),f.gradientColor=[l,i],f.linearDirectionStr=t}}1==r.dark&&(f=h(h({},f),null!=(a=null==(t=null==(o=uni.$tm.config)?void 0:o.themeConfig)?void 0:t.dark)?a:{})),f.textColor=K.rgbaToCss(K.hslaToRgba(y)),r.dark?0==s.hsla.h&&0==s.hsla.s?f.border=K.rgbaToCss(K.hslaToRgba(u(h({},s.hsla),{l:12}))):f.border=K.rgbaToCss(K.hslaToRgba(u(h({},s.hsla),{l:p.l+10}))):(0==s.hsla.h&&0==s.hsla.s||r.text&&r.outlined?f.border=K.rgbaToCss(K.hslaToRgba(u(h({},s.hsla),{l:90}))):!r.text&&r.outlined?f.border=K.rgbaToCss(K.hslaToRgba(h({},y))):!r.text&&!r.outlined&&r.borderWidth>0&&(f.border=K.rgbaToCss(K.hslaToRgba(u(h({},s.hsla),{l:p.l-3})))),f.border=r.borderColor||f.border);let C=`${r.borderWidth}rpx ${r.borderStyle} ${f.border}`;if("all"==r.borderDirection)f.borderCss.border=C;else if("x"==r.borderDirection||"leftright"==r.borderDirection)f.borderCss["border-left"]=C,f.borderCss["border-right"]=C;else if("y"==r.borderDirection||"topbottom"==r.borderDirection)f.borderCss["border-top"]=C,f.borderCss["border-bottom"]=C;else if("bottomleft"==r.borderDirection)f.borderCss["border-left"]=C,f.borderCss["border-bottom"]=C;else if("bottomright"==r.borderDirection)f.borderCss["border-right"]=C,f.borderCss["border-bottom"]=C;else if("topleft"==r.borderDirection)f.borderCss["border-left"]=C,f.borderCss["border-top"]=C;else if("topright"==r.borderDirection)f.borderCss["border-right"]=C,f.borderCss["border-top"]=C;else{let e="-"+r.borderDirection;f.borderCss[`border${e}`]=C}return f}},getColor:function(r){let e=or.findIndex((function(e,o){return e.name==r}));return-1==e&&(r="primary",e=or.findIndex((function(e,o){return e.name==r})),console.warn("主题中不存在相关名称的主题。")),or[e]}};let sr=C("setTmVuetifyColor")||"",nr=C("setTmVuetifyBlack"),ir=C("setTmVuetifyLocal")||"zh-Hans",dr=C("colorArrayList"),br="boolean"==typeof nr&&nr,hr=new lr.themeColors;if(dr){const r=dr.filter((r=>hr.colors.every((e=>e.name!==r.name))));hr=new lr.themeColors([...hr.colors,...r])}const ur=hr.colors,cr=null!=(t=null==(o=k())?void 0:o.osName)?t:"";v("colorArrayList",ur);const gr=T("tmpinia",{state:()=>({tmStore:{color:sr,dark:br,tmVueTifly_pages:"",tmVueTifly_pagesIndex:"",os:cr,wxshareConfig_miniMp:{title:"",desc:"",imageUrl:"",path:"",copyLink:"",query:{}},colorList:ur,local:ir}}),actions:{setPageNow(r){this.tmStore=u(h({},this.tmStore),{tmVueTifly_pages:r})},setPageNowIndex(r){this.tmStore=u(h({},this.tmStore),{tmVueTifly_pagesIndex:r})},setTmVuetifyDark(r){v("setTmVuetifyBlack",r="boolean"==typeof r&&r),this.tmStore=u(h({},this.tmStore),{dark:r})},setTmAutoDark(r=!1){if(v("setTmVuetifyAutoDark",r),this.tmuiConfig.autoDark=r,r){let r="";r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",this.setTmVuetifyDark("dark"==r)}},setWxShare(r){let e=r||{};("object"!=typeof e||Array.isArray(r))&&(e={}),this.tmStore=u(h({},this.tmStore),{wxshareConfig_miniMp:h(h({},this.tmStore.wxshareConfig_miniMp),e)})},setTmVuetifyTheme(r){let e=r;e&&""!=e&&!lr.isCssColor(e)||(e=""),v("setTmVuetifyColor",e),this.tmStore=u(h({},this.tmStore),{color:e})},setTmVuetifyAddTheme(r,e,o=!0){this.tmStore=u(h({},this.tmStore),{colorList:hr.add(r,e)}),v("colorArrayList",this.tmStore.colorList),o&&this.setTmVuetifyTheme(r)},setTmLocal(r){v("setTmVuetifyLocal",r=r||"zh-Hans"),this.tmStore=u(h({},this.tmStore),{local:r})}}}),fr={_style:{type:[Array,String,Object],default:()=>[]},_class:{type:[Array,String],default:""},color:{type:String,default:"primary"},followTheme:{type:[Boolean,String],default:!1},dark:{type:[Boolean,String],default:!1},followDark:{type:[Boolean,String],default:!0},round:{type:[Number],default:0},shadow:{type:[Number],default:0},outlined:{type:[Boolean],default:!1},border:{type:[Number],default:0},borderStyle:{type:String,default:rr.solid},borderDirection:{type:String,default:X.all},text:{type:[Boolean,String],default:!1},transprent:{type:[Boolean,String],default:!0},transparent:{type:[Boolean,String],default:!0},linear:{type:String,default:""},linearDeep:{type:String,default:"light"},linearColor:{type:[Array],default:()=>[]},isDisabledRoundAndriod:{type:[Boolean,String],default:!1},blur:{type:Boolean,default:!1},borderColor:{type:String,default:""}},mr=(r,e)=>{const o=r.followDark,t=r.dark,a=e.dark;return o?a:t},pr=r=>{const e=r._class;return"string"==typeof e?e:Array.isArray(e)?e.join(" "):""},yr=r=>{const e=r._style;if("string"==typeof e){let r=e.split(";").map((r=>{let e={},o=(r=r.replace(";","")).split(":");return e[o[0]]=o[1],e})),o={};return r.forEach((r=>{o=h(h({},o),r)})),o}if("object"==typeof e&&!Array.isArray(e))return e;if("object"==typeof e&&Array.isArray(e)){let r={};return e.forEach((e=>{r=h(h({},r),e)})),r}return{}},Cr=(r,e,o)=>{var t;const a=r.color,l=r.border,s=r.shadow,n=r.round,i=r.outlined,d=r.text,b=r.borderStyle,h=r.borderDirection,u=r.linear,c=r.linearDeep,g=r.blur;var f=null!=(t=null==r?void 0:r.borderColor)?t:"",m=new lr.themeColors(o.colorList);lr.isCssColor(a)&&!m.hasColors(a)&&(m=new lr.themeColors(m.add(a,a)));let p=a||"primary";return 1==(null==r?void 0:r.followTheme)&&o.color&&(p=o.color,f=""),m.getTheme({colorname:p,dark:e,borderWidth:l,shadow:parseInt(String(s)),round:parseInt(String(n)),outlined:!!i,text:!!d,borderStyle:b,borderDirection:h,linearDirection:u,linearDeep:c,blur:g,borderColor:f})},kr=z(S({__name:"tm-app",props:u(h({},fr),{transprent:{type:[Boolean,String],default:!1},transparent:{type:[Boolean,String],default:!1},theme:{type:String,default:"grey-5"},bgImg:{type:String,default:""},color:{type:String,default:"grey-4"},darkColor:{type:String,default:"#050505"},blur:{type:[Boolean,String],default:!1},navbar:{type:Object,default:()=>({background:"",fontColor:""})},showMenu:{type:Boolean,default:!1}}),emits:["update:showMenu"],setup(r,{expose:e,emit:o}){var t,a;const l=r,s=gr(),n=null!=(a=null==(t=g())?void 0:t.proxy)?a:null,i=D((()=>s.tmStore)),d=x(!1),b=D((()=>i.value.dark)),h=D((()=>Cr(l,b.value,i.value)));x(l.showMenu);const u=w(),c=x(u),f=D((()=>l.bgImg)),m=D((()=>l.transparent||l.transprent));window.addEventListener("resize",(()=>{!function(r,e=100,o=!1){o?C||(C=!0,"function"==typeof r&&r(),setTimeout((()=>{C=!1}),e)):C||(C=!0,setTimeout((()=>{C=!1,"function"==typeof r&&r()}),e))}((()=>{c.value=w()}))}));const p=x(u.width);let y=x(u.height),C=!1,k=!1,v=B().pop();D((()=>!0===l.blur&&b.value?"dark":!0!==l.blur||b.value?"none":"extralight"));let T=x({width:p,height:y,theme:h.value.backgroundColor,bgImg:l.bgImg,dark:b.value});function S(){var r,e,o;if(b.value?T.value.theme=(null==(o=null==(e=null==(r=s.tmuiConfig)?void 0:r.themeConfig)?void 0:e.dark)?void 0:o.bodyColor)||l.darkColor:T.value.theme=h.value.backgroundColor,document.body.style.background=T.value.theme||"",localStorage.setItem("tmuiNavStyle",JSON.stringify({navbarBackground:b.value?T.value.theme:l.navbar.background,navbarFontColor:b.value?"#ffffff":l.navbar.fontColor})),b.value){try{uni.$tm.isOpenDarkModel||A({backgroundColor:"#000000",frontColor:"#ffffff"}).catch((r=>{}))}catch(t){}k&&-1==uni.$tm.tabBar.selectedColor.indexOf("@")&&F({backgroundColor:"#141415",borderStyle:"black",color:"#ffffff",selectedColor:uni.$tm.tabBar.selectedColor||h.value.textColor}).catch((r=>{}))}else{try{let r=uni.$tm.pages.filter((r=>r.path==(null==v?void 0:v.route)));if(r.length>0&&!l.navbar.background){if(r[0].navigationBarTextStyle.indexOf("@")>-1)return;let e=r[0].navigationBarTextStyle;e=e.toLocaleLowerCase(),e="black"==e?"#000000":e,e="white"==e?"#ffffff":e,A({backgroundColor:r[0].navigationBarBackgroundColor,frontColor:e}).catch((r=>{})),I("tmuiNavStyle",JSON.stringify({navbarBackground:r[0].navigationBarBackgroundColor,navbarFontColor:e}))}else uni.$tm.isOpenDarkModel||(A({backgroundColor:l.navbar.background,frontColor:l.navbar.fontColor}).catch((r=>{})),I("tmuiNavStyle",JSON.stringify({navbarBackground:l.navbar.background,navbarFontColor:l.navbar.fontColor})))}catch(t){}try{k&&!uni.$tm.isOpenDarkModel&&F({backgroundColor:uni.$tm.tabBar.backgroundColor||l.navbar.background,borderStyle:uni.$tm.tabBar.borderStyle||"white",color:uni.$tm.tabBar.color||l.navbar.fontColor,selectedColor:uni.$tm.tabBar.selectedColor||h.value.textColor}).catch((r=>{}))}catch(t){}}d.value=!0}function z(r){let e=!b.value;void 0!==r&&"boolean"==typeof r&&(e=r),T.value.dark=e,s.setTmVuetifyDark(e),S()}Q((r=>{var e,o;try{null==(o=s.tmuiConfig.router)||o.useTmRouterAfter({path:null!=(e=null==v?void 0:v.route)?e:"",opts:r,context:null!=n?n:null})}catch(t){}})),$((()=>{!function(){var r,e;let o=null!=(e=null==(r=uni.$tm.tabBar)?void 0:r.list)?e:[];for(let t=0;t<o.length;t++)if((null==v?void 0:v.route)==o[t].pagePath){k=!0;break}s.tmuiConfig.autoDark?window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light"):S()}()})),R([()=>i.value.color,b],(()=>{d.value=!1,S()})),R([()=>l.color],(()=>{T.value.theme=h.value.backgroundColor}));try{N((r=>{J(r.theme)}))}catch(q){console.warn("没有主题切换功能：",q)}function J(r){s.tmuiConfig.autoDark&&("light"===r?z(!1):"dark"===r&&z(!0))}return O("tmuiSysInfo",D((()=>c.value))),O("appTextColor",D((()=>h.value.textColor))),O("custom_space_size",[0,0]),e({setTheme:function(r){s.setTmVuetifyTheme(r)},setDark:z}),(r,e)=>{const o=P,t=G;return M(),_(t,{class:"flex relative app flex-1",style:W([H(T).theme?{background:H(m)?"":H(T).theme}:"",H(f)?{backgroundImage:`url(${H(f)})`}:""])},{default:V((()=>[j(r.$slots,"default",{},(()=>[L(o,null,{default:V((()=>[E("在这里放置内容")])),_:1})]),!0)])),_:3},8,["style"])}}}),[["__scopeId","data-v-3315457a"]]);export{q as a,U as b,fr as c,mr as d,K as e,yr as f,pr as g,Cr as h,lr as i,X as j,Q as o,kr as t,gr as u};
