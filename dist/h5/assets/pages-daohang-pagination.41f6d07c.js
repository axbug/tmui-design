import{d as e,r as a,c as l,Q as t,o as r,a as o,w as n,N as u,e as i,f as d,u as s,F as p,j as f,b as c,i as m,_ as g}from"./index-6b165856.js";import{t as h}from"./tm-app.d6cf2f93.js";import{t as v}from"./tm-sheet.3639b36a.js";import{t as k}from"./tm-text.6c910eb0.js";import{t as y}from"./tm-icon.65b53dc0.js";const b=g(e({__name:"tm-pagination",props:{followTheme:{type:[Boolean,String],default:!1},total:{type:Number,default:0,required:!0},current:{type:Number,default:0},defaultCurrent:{type:Number,default:1},pageSize:{type:Number,default:10},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},btnSize:{type:Number,default:5},btnSizeNum:{type:Number,default:1},color:{type:String,default:"primary"},btnColor:{type:String,default:"white"},followDark:{type:[Boolean,String],default:!0},dark:{type:[Boolean,String],default:!1},round:{type:[Number],default:2},shadow:{type:[Number],default:2},text:{type:[Boolean,String],default:!1},linear:{type:[String],default:"top"},linearDeep:{type:[String],default:"light"}},emits:["update:current","change"],setup(e,{emit:g}){const h=e,b=a(h.defaultCurrent||1),w=a(h.pageSize||10),x=l((()=>b.value)),S=l((()=>w.value)),_=l((()=>Math.ceil(h.total/S.value))),N=l((()=>{const e=[];if(_.value<h.btnSize+2*h.btnSizeNum)for(let a=1;a<=_.value;a++)e.push({key:a,page:a});else{let a=1,l=_.value,t=!1,r=!1;x.value>2+h.btnSizeNum&&(t=!0,a=Math.min(x.value-h.btnSizeNum,_.value-2*h.btnSizeNum)),x.value<_.value-(h.btnSizeNum+1)&&(r=!0,l=Math.max(x.value+h.btnSizeNum,2*h.btnSizeNum+1)),t&&(e.push({key:1,page:1}),e.push({key:"left-more",page:"...",step:-(2*h.btnSizeNum+1)}));for(let o=a;o<=l;o++)e.push({key:o,page:o});r&&(e.push({key:"right-more",page:"...",step:2*h.btnSizeNum+1}),e.push({key:_.value,page:_.value}))}return e}));function z(e){if(!h.disabled)if("prev"==e){let e=b.value-1;e<=1&&(e=1),b.value=e,g("update:current",b.value),g("change",b.value)}else if("next"==e){let e=b.value+1;e>=_.value&&(e=_.value),b.value=e,g("update:current",b.value),g("change",b.value)}}return t((()=>h.current),(()=>{b.value=h.current})),(a,l)=>{const t=m;return r(),o(t,{class:"flex flex-col relative flex-center"},{default:n((()=>[e.simple?f("v-if",!0):(r(),o(t,{key:0,class:u(["flex flex-row relative flex-center",[h.disabled?"opacity-5":""]])},{default:n((()=>[(r(!0),i(p,null,d(s(N),((e,a)=>(r(),o(v,{noLevel:"","hover-class":"keywordBoradAni opacity-5",onClick:a=>function(e){h.disabled||("..."!=e.page?(b.value=parseInt(e.page),g("update:current",b.value),g("change",b.value)):(b.value=b.value+e.step,g("update:current",b.value),g("change",b.value)))}(e),width:70,height:70,padding:[0,0],round:h.round,shadow:"..."==e.page?0:h.shadow,followTheme:s(x)==e.page&&h.followTheme,followDark:h.followDark,dark:h.dark,text:h.text,linear:s(x)==e.page?h.linear:"",linearDeep:h.linearDeep,_class:"flex-center",transprent:"..."==e.page,color:s(x)==e.page?h.color:h.btnColor,margin:[16,24],key:a},{default:n((()=>[c(k,{userInteractionEnabled:!1,_style:"line-height:70rpx;cursor: pointer;",label:String(e.page)},null,8,["label"])])),_:2},1032,["onClick","round","shadow","followTheme","followDark","dark","text","linear","linearDeep","transprent","color"])))),128))])),_:1},8,["class"])),e.simple?(r(),o(t,{key:1,class:u(["flex flex-row relative flex-center",[h.disabled?"opacity-5":""]])},{default:n((()=>[c(v,{noLevel:"","hover-class":"keywordBoradAni opacity-5",onClick:l[0]||(l[0]=e=>z("prev")),width:140,height:70,padding:[0,0],round:h.round,shadow:h.shadow,followTheme:!1,followDark:h.followDark,dark:h.dark,text:h.text,_class:["flex-center",1==s(x)?"opacity-3":""],color:h.btnColor,margin:[10,24]},{default:n((()=>[c(y,{userInteractionEnabled:!1,dark:h.dark,color:"grey-darken-2",fontSize:24,followTheme:!1,name:"tmicon-angle-left"},null,8,["dark"])])),_:1},8,["round","shadow","followDark","dark","text","_class","color"]),c(k,{dark:h.dark,_style:"line-height:70rpx;",_class:"px-40",label:`${s(x)}/${s(_)}`},null,8,["dark","label"]),c(v,{noLevel:"","hover-class":"keywordBoradAni opacity-5",onClick:l[1]||(l[1]=e=>z("next")),width:140,height:70,padding:[0,0],round:h.round,shadow:h.shadow,followTheme:!1,followDark:h.followDark,dark:h.dark,text:h.text,_class:["flex-center",s(x)==s(_)?"opacity-3":""],color:h.btnColor,margin:[10,24]},{default:n((()=>[c(y,{userInteractionEnabled:!1,dark:h.dark,color:"grey-darken-2",fontSize:24,followTheme:!1,name:"tmicon-angle-right"},null,8,["dark"])])),_:1},8,["round","shadow","followDark","dark","text","_class","color"])])),_:1},8,["class"])):f("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-31e0296f"]]),w=e({__name:"pagination",setup(e){const l=a(1);return setTimeout((function(){l.value=4}),3e3),(e,a)=>(r(),o(h,null,{default:n((()=>[c(v,null,{default:n((()=>[c(k,{fontSize:24,_class:"font-weight-b",label:"基础属性,更多玩法请前往文档。"})])),_:1}),c(v,{padding:[12,12],margin:[0,0]},{default:n((()=>[c(b,{current:l.value,"onUpdate:current":a[0]||(a[0]=e=>l.value=e),color:"primary",total:100},null,8,["current"])])),_:1}),c(v,{padding:[12,12],margin:[0,16]},{default:n((()=>[c(b,{simple:"",total:100})])),_:1})])),_:1}))}});export{w as default};
