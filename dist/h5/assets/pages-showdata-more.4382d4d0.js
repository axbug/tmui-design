import{d as e,c as t,r as a,az as l,M as o,p as s,m as n,J as u,o as r,a as i,w as c,b as f,N as p,n as m,V as v,O as d,u as _,k as h,g as b,L as g,j as x,_ as y,v as w,x as j,t as z}from"./index-5c06cf16.js";import{c as k,u as O,d as B,t as L}from"./tm-app.20954b06.js";import{t as C}from"./tm-sheet.2873fe67.js";import{t as I}from"./tm-text.fdd4f0a8.js";import{_ as N}from"./tm-image.vue_vue_type_script_setup_true_lang.f325e7c1.js";import{_ as T}from"./tm-divider.vue_vue_type_script_setup_true_lang.0bd9a5e3.js";import{t as S}from"./tm-icon.5716c798.js";import"./tm-translate.4fbb7927.js";const J=y(e({__name:"tm-more",props:{...k,height:{type:Number,default:250},openLabel:{type:String,default:"收起更多"},closeLabel:{type:String,default:"展开更多"},beforeOpen:{type:[Function,Boolean],default:()=>!1}},emits:["change"],setup(e,{emit:y}){var w;const j=e,z=O(),k=t((()=>z.tmStore)),L=t((()=>B(j,k.value))),C=a(!1),N=(null==(w=b())?void 0:w.proxy)??null;let T=NaN;const J=a(!0);J.value=!1;const P=a([0,0]),V=a(!1),X=t((()=>L.value&&!V.value?"white":L.value&&V.value?"grey":"black")),$=a(!1),E=t((()=>g(j.height)));async function F(){if("function"==typeof j.beforeOpen){let e=await j.beforeOpen().catch((e=>{}));if("function"==typeof e&&(e=await e()),!e)return}V.value=!V.value,y("change",V.value)}function M(){n((function(){u().in(N).select(".contentbody").boundingClientRect((e=>{0==(null==e?void 0:e.height)?(clearTimeout(T),T=setTimeout((()=>{M()}),250)):(((null==e?void 0:e.height)??0)>=E.value&&($.value=!0),C.value=!0)})).exec()}))}return l((()=>{M()})),o((()=>clearTimeout(T))),s((()=>{M()})),(e,t)=>{const a=x;return r(),i(a,{class:"flex flex-col relative"},{default:c((()=>[f(a,{class:"flex-1 flex flex-col relative contentbody overflow",ref:"contentbody",style:m([$.value&&!V.value?{height:j.height+"rpx"}:"",C.value?{transform:"translateX(0px)"}:{transform:"translateX(-1000px)"}])},{default:c((()=>[p(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),$.value?(r(),i(a,{key:0,onClick:v(F,["stop"]),class:d(["flex zIndex-10 flex-row flex-row-bottom-center py-24 flex",[J.value||V.value?"":"fulled-height",V.value?"":_(L)?"darkBg absolute":"lightBg absolute"]]),style:m([J.value?"":{width:"100%","box-sizing":"border-box"},J.value&&!V.value?{width:P.value[0]+"px",height:P.value[1]+"px"}:""])},{default:c((()=>[p(e.$slots,"more",{},(()=>[f(a,{userInteractionEnabled:!1,class:"flex flex-row flex-row-center-center"},{default:c((()=>[f(S,{"font-size":24,color:_(X),name:V.value?"tmicon-angle-up":"tmicon-angle-down"},null,8,["color","name"]),f(I,{"font-size":24,color:_(X),_class:"px-16",label:V.value?j.openLabel:j.closeLabel},null,8,["color","label"])])),_:1})]),!0)])),_:3},8,["onClick","class","style"])):h("v-if",!0)])),_:3})}}}),[["__scopeId","data-v-3fe87f7c"]]),P=e({__name:"more",setup(e){const t="英国广播公司（BBC）24日再次“爆料”，称黑客从新疆警方电存数据，其中包括“存数据，其中包括“存数据，其中包括“存数据，其中包括“脑服务器中获取了大量缓存数据，其中包括“再教育中心”“囚犯”照片。该报道刚刚发出，美国国务院和英国外交部就一齐上阵，夸张地表示“震惊”和“愤慨”。不得不说，在编造涉疆谎言方面，美西方舆论和政客的相互配合，已经熟练到“肌肉记忆”的程度。";function a(){return w({title:"..."}),new Promise(((e,t)=>{setTimeout((function(){j(),t(),z({title:"不允许阅读",icon:"none"})}),1500)}))}return(e,l)=>(r(),i(L,null,{default:c((()=>[f(C,null,{default:c((()=>[f(I,{"font-size":24,_class:"font-weight-b",label:"基础示例,更多见文档"}),f(T),f(J,null,{default:c((()=>[f(I,{label:t})])),_:1}),f(T),f(I,{"font-size":24,_class:"font-weight-b",label:"下面是打开前的勾子，不允许查看"}),f(T),f(J,{beforeOpen:a},{default:c((()=>[f(N,{width:636,height:120,src:"https://picsum.photos/636/120"}),f(I,{label:t})])),_:1})])),_:1})])),_:1}))}});export{P as default};
