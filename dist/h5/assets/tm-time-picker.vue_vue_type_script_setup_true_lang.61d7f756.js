var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,u=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{d as n,r as d,O as i,c as s,ad as m,Q as p,o as f,a as c,w as h,M as y,b,u as v,n as g,g as w,K as S,k as D,i as O}from"./index-6b165856.js";import{c as j}from"./tm-app.d6cf2f93.js";import{t as V}from"./tm-time-view.fd4d4223.js";import{t as k}from"./tm-drawer.cfc5bd4b.js";import{t as C}from"./tm-button.80fc9b3b.js";const x=n({__name:"tm-time-picker",props:(N=((e,t)=>{for(var a in t||(t={}))o.call(t,a)&&u(e,a,t[a]);if(l)for(var a of l(t))r.call(t,a)&&u(e,a,t[a]);return e})({},j),_={show:{type:Boolean,default:!1},immediateChange:{type:Boolean,default:!1},modelValue:{type:[Number,String,Date],default:""},modelStr:{type:[String],default:""},defaultValue:{type:[Number,String,Date],default:""},disabledDate:{type:Array,default:()=>[]},format:{type:String,default:"YYYY/MM/DD"},showDetail:{type:Object,default:()=>({year:!0,month:!0,day:!0,hour:!1,minute:!1,second:!1})},showSuffix:{type:Object,default:()=>({year:"年",month:"月",day:"日",hour:"时",minute:"分",second:"秒"})},start:{type:[Number,String,Date],default:"2008/01/01 00:00:00"},end:{type:[Number,String,Date],default:""},height:{type:Number,default:700},color:{type:String,default:"primary"},linear:{type:String,default:""},linearDeep:{type:String,default:"light"},btnRound:{type:Number,default:3},round:{type:Number,default:12},title:{type:String,default:"请选择时间"}},t(N,a(_))),emits:["update:modelValue","update:modelStr","update:show","confirm","change","cancel","close","open"],setup(e,{emit:t}){var a;const l=e;null==(a=w())||a.proxy;const o=d(null),r=d(l.show),u=d(!1),n=d(l.defaultValue),j=d(""),x=i("tmuiSysInfo",s((()=>({bottom:0,height:750,width:S(750),top:0,isCustomHeader:!1,sysinfo:null}))));function N(){u.value||(t("cancel"),n.value="",D((()=>{n.value=l.modelValue?l.modelValue:l.defaultValue}))),t("close"),t("update:show",!1),u.value=!1}function _(){t("open")}function P(e){t("change",e)}function Y(){t("confirm",n.value),t("update:modelValue",n.value),t("update:modelStr",j.value),D((()=>{var e;u.value=!0,null==(e=o.value)||e.close()}))}m((()=>{r.value=l.show})),p((()=>l.modelValue),(()=>{n.value=l.modelValue}),{deep:!0});const I=s((()=>l.height+x.value.bottom+80));return(e,t)=>{const a=O;return f(),c(a,{onClick:t[3]||(t[3]=e=>r.value=!r.value)},{default:h((()=>[y(e.$slots,"default"),b(k,{disabbleScroll:!0,round:l.round,ref_key:"drawer",ref:o,height:v(I),"onUpdate:show":t[2]||(t[2]=e=>r.value=e),show:r.value,onClose:N,"ok-color":l.color,onOpen:_,title:l.title,closeable:!0,onOk:Y},{default:h((()=>[b(V,{height:v(I)-230,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),"model-value":n.value,"onUpdate:modelStr":t[1]||(t[1]=e=>j.value=e),"model-str":j.value,"default-value":n.value,onChange:P,disabledDate:l.disabledDate,format:l.format,showDetail:l.showDetail,showSuffix:l.showSuffix,start:l.start,end:l.end,immediateChange:l.immediateChange},null,8,["height","model-value","model-str","default-value","disabledDate","format","showDetail","showSuffix","start","end","immediateChange"]),b(C,{label:"确认选择",block:"",margin:[32,12],color:l.color,linear:l.linear,"linear-deep":l.linearDeep,onClick:Y,round:l.btnRound},null,8,["color","linear","linear-deep","round"]),b(a,{style:g({height:v(x).bottom+"px"})},null,8,["style"])])),_:1},8,["round","height","show","ok-color","title"])])),_:3})}}});var N,_;export{x as _};
