import{d as e,P as l,c as t,r as a,p as o,o as r,a as i,w as u,k as n,b as p,N as v,u as c,n as f,e as x,f as s,F as d,L as h,g as b,Y as m,j as w,O as g,_ as y}from"./index-5c06cf16.js";import{t as z}from"./tm-icon.5716c798.js";import{t as k}from"./tm-text.fdd4f0a8.js";import{t as T}from"./tm-button.5fc2eaaa.js";const _=y(e({__name:"tm-float-button",props:{followTheme:{type:[Boolean],default:!0},position:{type:String,default:"br"},actionsPos:{type:String,default:"top"},width:{type:Number,default:124},height:{type:Number,default:124},offset:{type:Array,default:()=>[32,32]},actions:{type:Array,default:()=>[]},btn:{type:Object,default:()=>{},required:!0},showActions:{type:Boolean,default:!1},clickHidnActions:{type:Boolean,default:!0},disabledScrollTo:{type:Boolean,default:!0},scrollTo:{type:Object,default:()=>({scrollTop:0,selector:"",duration:300})}},emits:["click","change"],setup(e,{emit:y}){var _;const S=e,C=l("tmuiSysInfo",t((()=>({bottom:0,height:750,width:h(750),top:0,isCustomHeader:!1,sysinfo:null})))),I=t((()=>C.value.width));t((()=>C.value.top)),null==(_=b())||_.proxy;a(!1).value=!0;const j=a(S.showActions??!1),A=t((()=>S.position)),E=t((()=>S.actionsPos)),B=t((()=>{let e=S.offset??[0,0];return e=[h(S.offset[0]),h(S.offset[1])],e})),D=t((()=>(I.value-h(2*S.width))/2+2*B.value[0]));t((()=>h(S.width)));const H=t((()=>({icon:"tmicon-plus",fontSize:20,color:"primary",linear:"",linearDeep:"accent",label:"",iconSize:42,fontColor:"",...S.btn??{}}))),N=t((()=>S.actions.map((e=>({icon:"tmicon-plus",fontSize:20,color:"primary",linear:"",linearDeep:"accent",label:"",fontColor:"",iconSize:36,...e}))))),P=t((()=>{h(24);let e=N.value.length*h(S.width),l=h(S.width);return"left"==E.value&&"bc"==A.value?{parent:{bottom:B.value[1]+"px",left:D.value+"px"},children:{bottom:B.value[1]+"px",left:D.value-e+"px",display:"flex","flex-direction":"row"}}:"right"==E.value&&"bc"==A.value?{parent:{bottom:B.value[1]+"px",left:D.value+"px"},children:{bottom:B.value[1]+"px",left:D.value+l+"px",display:"flex","flex-direction":"row"}}:"bottom"==E.value&&"bc"==A.value?{parent:{bottom:B.value[1]+"px",left:D.value+"px"},children:{bottom:B.value[1]-e+"px",left:D.value+"px"}}:"top"==E.value&&"bc"==A.value?{parent:{bottom:B.value[1]+"px",left:D.value+"px"},children:{bottom:B.value[1]+l+"px",left:D.value+"px"}}:"right"==E.value&&"bl"==A.value?{parent:{bottom:B.value[1]+"px",left:B.value[0]+"px"},children:{bottom:B.value[1]+"px",left:B.value[0]+l+"px",display:"flex","flex-direction":"row"}}:"left"==E.value&&"bl"==A.value?{parent:{bottom:B.value[1]+"px",left:B.value[0]+"px"},children:{bottom:B.value[1]+"px",left:B.value[0]-e+"px",display:"flex","flex-direction":"row"}}:"top"==E.value&&"bl"==A.value?{parent:{bottom:B.value[1]+"px",left:B.value[0]+"px"},children:{bottom:B.value[1]+l+"px",left:B.value[0]+"px"}}:"bottom"==E.value&&"bl"==A.value?{parent:{bottom:B.value[1]+"px",left:B.value[0]+"px"},children:{bottom:B.value[1]-e+"px",left:B.value[0]+"px"}}:"right"==E.value&&"br"==A.value?{parent:{bottom:B.value[1]+"px",right:B.value[0]+"px"},children:{bottom:B.value[1]+"px",right:B.value[0]-e+"px",display:"flex","flex-direction":"row"}}:"left"==E.value&&"br"==A.value?{parent:{bottom:B.value[1]+"px",right:B.value[0]+"px"},children:{bottom:B.value[1]+"px",right:B.value[0]+l+"px",display:"flex","flex-direction":"row"}}:"top"==E.value&&"br"==A.value?{parent:{bottom:B.value[1]+"px",right:B.value[0]+"px"},children:{bottom:B.value[1]+l+"px",right:B.value[0]+"px"}}:"bottom"==E.value&&"br"==A.value?{parent:{bottom:B.value[1]+"px",right:B.value[0]+"px"},children:{bottom:B.value[1]-e+"px",right:B.value[0]+"px"}}:"left"==E.value&&"tc"==A.value?{parent:{top:B.value[1]+"px",left:D.value+"px"},children:{top:B.value[1]+"px",left:D.value-e+"px",display:"flex","flex-direction":"row"}}:"right"==E.value&&"tc"==A.value?{parent:{top:B.value[1]+"px",left:D.value+"px"},children:{top:B.value[1]+"px",left:D.value+l+"px",display:"flex","flex-direction":"row"}}:"bottom"==E.value&&"tc"==A.value?{parent:{top:B.value[1]+"px",left:D.value+"px"},children:{top:B.value[1]+l+"px",left:D.value+"px"}}:"top"==E.value&&"tc"==A.value?{parent:{top:B.value[1]+"px",left:D.value+"px"},children:{top:B.value[1]-e+"px",left:D.value+"px"}}:"right"==E.value&&"tl"==A.value?{parent:{top:B.value[1]+"px",left:B.value[0]+"px"},children:{top:B.value[1]+"px",left:B.value[0]+l+"px",display:"flex","flex-direction":"row"}}:"left"==E.value&&"tl"==A.value?{parent:{top:B.value[1]+"px",left:B.value[0]+"px"},children:{top:B.value[1]+"px",left:B.value[0]-e+"px",display:"flex","flex-direction":"row"}}:"top"==E.value&&"tl"==A.value?{parent:{top:B.value[1]+"px",left:B.value[0]+"px"},children:{top:B.value[1]-e+"px",left:B.value[0]+"px"}}:"bottom"==E.value&&"tl"==A.value?{parent:{top:B.value[1]+"px",left:B.value[0]+"px"},children:{top:B.value[1]+l+"px",left:B.value[0]+"px"}}:"right"==E.value&&"tr"==A.value?{parent:{top:B.value[1]+"px",right:B.value[0]+"px"},children:{top:B.value[1]+"px",right:B.value[0]-e+"px",display:"flex","flex-direction":"row"}}:"left"==E.value&&"tr"==A.value?{parent:{top:B.value[1]+"px",right:B.value[0]+"px"},children:{top:B.value[1]+"px",right:B.value[0]+l+"px",display:"flex","flex-direction":"row"}}:"top"==E.value&&"tr"==A.value?{parent:{top:B.value[1]+"px",right:B.value[0]+"px"},children:{top:B.value[1]-e+"px",right:B.value[0]+"px"}}:"bottom"==E.value&&"tr"==A.value?{parent:{top:B.value[1]+"px",right:B.value[0]+"px"},children:{top:B.value[1]+l+"px",right:B.value[0]+"px"}}:void 0}));function O(e){S.clickHidnActions?j.value=!j.value:j.value=!0,y("click",e),S.disabledScrollTo||m({scrollTop:S.scrollTo.scrollTop,duration:S.scrollTo.duration,selector:S.scrollTo.selector})}return o((()=>{j.value})),(e,l)=>{var t;const a=w;return r(),i(a,{class:"fixed zIndex-12 flex",style:f(null==(t=c(P))?void 0:t.parent)},{default:u((()=>{var l;return[n(" 主按钮。 "),p(a,{style:f({width:S.width+"rpx",height:S.height+"rpx"}),class:"flex flex-row flex-row-center-center"},{default:u((()=>[v(e.$slots,"default",{},(()=>[p(T,{followTheme:S.followTheme,onClick:O,_class:"flex flex-col flex-col-center-center",shadow:3,linear:c(H).linear,"linear-deep":c(H).linearDeep,color:c(H).color,margin:[0,0],round:16,padding:[0,0],width:S.width-24,height:S.height-24},{default:u((()=>[p(a,{class:"flex flex-col flex-col-center-center"},{default:u((()=>[p(z,{userInteractionEnabled:!1,"follow-dark":!1,color:c(H).fontColor,name:c(H).icon,"font-size":c(H).iconSize},null,8,["color","name","font-size"]),c(H).label?(r(),i(k,{key:0,userInteractionEnabled:!1,"follow-dark":!1,color:c(H).fontColor,label:c(H).label,"font-size":c(H).fontSize},null,8,["color","label","font-size"])):n("v-if",!0)])),_:1})])),_:1},8,["followTheme","linear","linear-deep","color","width","height"])]),!0)])),_:3},8,["style"]),n(" 子按钮。 "),j.value&&c(N).length>0?(r(),i(a,{key:0,class:"fixed zIndex-12 flex",style:f(null==(l=c(P))?void 0:l.children),userInteractionEnabled:j.value},{default:u((()=>[(r(!0),x(d,null,s(c(N),((e,l)=>(r(),i(a,{ref_for:!0,ref:"btnChildren",style:f({width:S.width+"rpx",height:S.height+"rpx"}),class:g([[j.value&&c(N).length>0?"scaleNvue":""],"flex flex-row flex-row-center-center scale"]),key:l},{default:u((()=>[p(T,{followTheme:S.followTheme,onClick:t=>function(e,l){S.clickHidnActions&&(j.value=!1),y("change",e,l)}(l,e),_class:"flex flex-col flex-col-center-center",shadow:3,linear:e.linear,"linear-deep":e.linearDeep,color:e.color,margin:[0,0],round:16,padding:[0,0],width:S.width-24,height:S.height-24},{default:u((()=>[p(a,{class:"flex flex-col flex-col-center-center"},{default:u((()=>[p(z,{userInteractionEnabled:!1,"follow-dark":!1,color:e.fontColor,name:e.icon,"font-size":e.iconSize},null,8,["color","name","font-size"]),e.label?(r(),i(k,{key:0,userInteractionEnabled:!1,"follow-dark":!1,color:e.fontColor,label:e.label,"font-size":e.fontSize},null,8,["color","label","font-size"])):n("v-if",!0)])),_:2},1024)])),_:2},1032,["followTheme","onClick","linear","linear-deep","color","width","height"])])),_:2},1032,["style","class"])))),128))])),_:1},8,["style","userInteractionEnabled"])):n("v-if",!0)]})),_:3},8,["style"])}}}),[["__scopeId","data-v-6e178748"]]);export{_ as t};
