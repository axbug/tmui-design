var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(a,r,t)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;import{d as u,c as i,r as d,Q as s,o as g,a as p,w as c,b as v,M as m,N as f,u as h,n as b,j as y,g as x,h as S,at as C,i as k,_ as w}from"./index-6b165856.js";import{c as B,u as j,f as O,g as $,d as F,h as _}from"./tm-app.d6cf2f93.js";const N=u({__name:"tm-sheet",props:(T=((e,a)=>{for(var r in a||(a={}))n.call(a,r)&&l(e,r,a[r]);if(t)for(var r of t(a))o.call(a,r)&&l(e,r,a[r]);return e})({},B),L={parenClass:{type:String,default:""},contStyle:{type:String,default:""},height:{type:[Number],default:0},width:{type:[Number],default:0},color:{type:String,default:"white"},transprent:{type:[Boolean,String],default:!1},border:{type:[Number,String],default:0},margin:{type:Array,default:()=>[32]},padding:{type:Array,default:()=>[24]},unit:{type:String,default:"rpx"},hoverClass:{type:String,default:"none"},darkBgColor:{type:String,default:""},noLevel:{type:Boolean,default:!1},blur:{type:Boolean,default:!1},url:{type:String,default:""}},a(T,r(L))),emits:["click","longpress","touchend","touchstart","touchcancel","mousedown","mouseup","mouseleave"],setup(e,{emit:a}){var r;const t=e,n=j();null==(r=x())||r.proxy;const o=i((()=>t.parenClass)),l=i((()=>t.contStyle)),u=i((()=>t.transprent)),w=i((()=>n.tmStore)),B=i((()=>("android"!=w.value.os||!P.value)&&t.blur)),N=i((()=>O(t))),T=i((()=>$(t))),L=i((()=>F(t,w.value))),M=i((()=>{let e=t.text;B.value&&"ios"==w.value.os&&P.value&&(e=!0);let a=uni.$tm.u.deepClone(t);const r=uni.$tm.u.deepObjectMerge(a,{blur:B.value,text:e});return _(r,L.value,w.value)})),P=d(!1),A=i((()=>1==t.margin.length?[t.margin[0],t.margin[0],t.margin[0],t.margin[0]]:2==t.margin.length?[t.margin[0],t.margin[1],t.margin[0],t.margin[1]]:3==t.margin.length?[t.margin[0],t.margin[1],t.margin[2],0]:4==t.margin.length?[t.margin[0],t.margin[1],t.margin[2],t.margin[3]]:[0,0,0,0])),D=i((()=>1==t.padding.length?[t.padding[0],t.padding[0],t.padding[0],t.padding[0]]:2==t.padding.length?[t.padding[0],t.padding[1],t.padding[0],t.padding[1]]:3==t.padding.length?[t.padding[0],t.padding[1],t.padding[2],0]:4==t.padding.length?[t.padding[0],t.padding[1],t.padding[2],t.padding[3]]:[0,0,0,0])),E=i((()=>t.width+D.value[0]+D.value[2])),I=i((()=>t.height+D.value[1]+D.value[3])),R=i((()=>t.width)),Q=i((()=>t.height)),W=i((()=>t.noLevel)),q=d(!0),z=i((()=>!0===t.blur&&L.value?"dark":!0!==t.blur||L.value?"none":"extralight"));s((()=>L.value),(()=>{}));const G=i((()=>{var e;return!0===u.value?"background-color:rgba(255,255,255,0);":""!==t.darkBgColor&&!0===L.value?`background-color:${t.darkBgColor};`:2==t.linearColor.length?{"background-image":`linear-gradient(${M.value.linearDirectionStr},${t.linearColor[0]},${t.linearColor[1]})`}:2==(null==(e=M.value.gradientColor)?void 0:e.length)?M.value.backgroundColorCss:W.value&&!0===M.value.isBlackAndWhite&&!0===L.value?`background-color: ${M.value.inputcolor}`:`background-color: ${M.value.backgroundColor}`})),H=d(!1);function J(e){H.value=!0,a("longpress",e)}function K(e){H.value=!0,a("touchstart",e)}function U(e){H.value=!1,a("touchend",e)}function V(e){H.value=!1,a("touchcancel",e)}function X(e){H.value=!0,a("mousedown",e)}function Y(e){H.value=!1,a("mouseup",e)}function Z(e){H.value=!1,a("mouseleave",e)}function ee(e){a("click",e),"string"==typeof t.url&&t.url&&S({url:t.url,fail(e){console.log(e)}})}i((()=>{let e=parseFloat(String(E.value))-parseFloat(String(t.padding[0]));return e-=2*parseFloat(String(t.border)),e})),i((()=>{let e=parseFloat(String(I.value))-parseFloat(String(t.padding[1]));return e-=2*parseFloat(String(t.border)),e}));let ae=i((()=>M.value.textColor));return C("appTextColor",ae),(e,a)=>{const r=k;return q.value?(g(),p(r,{key:0,"hover-class":(t.url?" opacity-7 ":"  ")+t.hoverClass,blurEffect:h(z),onClick:ee,onLongpress:J,onTouchend:U,onTouchstart:K,onTouchcancel:V,onMousedown:X,onMouseup:Y,onMouseleave:Z,class:f(["flex flex-col noNvueBorder",h(o),e.isDisabledRoundAndriod?"":`round-${t.round}`]),style:b([{marginLeft:h(A)[0]+"rpx",marginTop:h(A)[1]+"rpx",marginRight:h(A)[2]+"rpx",marginBottom:h(A)[3]+"rpx",paddingLeft:h(D)[0]+"rpx",paddingTop:h(D)[1]+"rpx",paddingRight:h(D)[2]+"rpx",paddingBottom:h(D)[3]+"rpx"},h(Q)?{height:h(I)+t.unit}:"",h(R)?{width:h(E)+t.unit}:"",h(M).borderCss,h(B)&&"ios"==h(n).tmStore.os&&!0===P.value?"":h(G),!h(u)&&t.shadow>0?h(M).shadowColor:"",!h(u)&&h(B)?{backdropFilter:"blur(6px)"}:"",h(N)])},{default:c((()=>[v(r,{class:f(["flex noNvueBorder flex-col flex-1",h(T)]),style:b(h(l))},{default:c((()=>[m(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["hover-class","blurEffect","class","style"])):y("v-if",!0)}}});var T,L;const M=w(N,[["__scopeId","data-v-1d1085b2"]]);export{M as t};
