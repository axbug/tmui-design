var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r;import{d as i,c as l,O as u,Q as c,aw as f,m as p,o as m,a as g,w as d,u as y,N as h,n as b,j as S,g as v,W as z,X as x,i as w,_ as O}from"./index-6b165856.js";import{c as j,u as H,f as _,g as k,d as C,h as P,i as B}from"./tm-app.d6cf2f93.js";const I=i({__name:"tm-icon",props:(N=((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&s(e,n,t[n]);return e})({},j),D={fontSize:{type:[Number],default:34},color:{type:String,default:""},name:{type:String,default:""},spin:{type:[Boolean],default:!1},unit:{type:String,default:"rpx"},lineHeight:{type:[Number],default:-1},rotate:{type:Boolean,default:!1},rotateDeg:{type:Number,default:0},customicon:{type:Boolean,default:!1}},t(N,n(D))),emits:["click","longpress"],setup(e,{emit:t}){var n;const r=e,o=H(),a=l((()=>r.rotateDeg));null==(n=v())||n.proxy;const s=l((()=>o.tmStore)),i=l((()=>_(r))),O=l((()=>k(r))),j=l((()=>C(r,s.value)));function I(e){t("click",e)}l((()=>P(r,j.value,s.value)));const N=u("appTextColor",l((()=>{}))),D=l((()=>{if(r.followTheme&&o.tmStore.color)return o.tmStore.color;let e=B.isCssColor(r.color);if(e)return r.color;if(r.color&&!e){return B.getColor(r.color).csscolor}return N.value?N.value:"rgba(34, 34, 34, 1.0)"})),L=l((()=>{if(r.fontSize<24&&"rpx"==r.unit)return{transform:"scale(0.8)",fontSize:(r.fontSize||30)+r.unit,lineHeight:r.lineHeight>-1?r.lineHeight+r.unit:(r.fontSize||30)+r.unit};let e={fontSize:(r.fontSize||30)+r.unit,lineHeight:r.lineHeight>-1?r.lineHeight+r.unit:(r.fontSize||30)+r.unit};return 0==r.lineHeight&&delete e.lineHeight,e})),M=l((()=>"."==r.name[0]||"@"==r.name[0]||"/"==r.name[0]||"~"==r.name[0]||"data:"==r.name.substring(0,5)||"http"==r.name.substring(0,4)||"https"==r.name.substring(0,5)||"ftp"==r.name.substring(0,3))),T=l((()=>{var e;return null==(e=r.name.split("-"))?void 0:e[0]})),$=l((()=>{if(M.value)return r.name;if(r.customicon)try{let e=r.name.split("-");if(/^e[0-9|a-z|A-Z]{3}/.test(e[e.length-1])){return r.name.substring(0,r.name.lastIndexOf("-"))}}catch(e){}return r.name})),A=l((()=>r.spin)),E=u("custom_space_size",[0,0]);return l((()=>Math.ceil(r.fontSize||34)+E[0])),l((()=>Math.ceil(r.fontSize||34)+E[1])),c(A,(()=>{})),f((()=>{})),p((()=>{})),(e,n)=>{const o=z,s=x,l=w;return m(),g(l,{"render-whole":!0,class:"flex flex-row flex-row-center-center",style:b([{marginRight:y(E)[0]+"rpx",marginBottom:y(E)[1]+"rpx"}])},{default:d((()=>[y(M)?S("v-if",!0):(m(),g(o,{key:0,onClick:I,onLongpress:n[0]||(n[0]=e=>t("longpress",e)),class:h([r.rotate?"ani":"",y(A)?"spin":"","text-size-n d-inline-block",y(T),y($),y(O)]),style:b([{transform:`rotate(${y(a)}deg)`},y(L),{color:y(D)},y(i)])},null,8,["class","style"])),y(M)?(m(),g(s,{key:1,"render-whole":!0,onClick:I,onLongpress:n[1]||(n[1]=e=>t("longpress",e)),ref:"icon",src:y($),class:h([r.rotate?"ani":"",y(A)?"spin":"",y(O)]),style:b([{transform:`rotate(${y(a)}deg)`},{width:(r.fontSize||30)+r.unit,height:(r.fontSize||30)+r.unit},y(i)])},null,8,["src","class","style"])):S("v-if",!0)])),_:1},8,["style"])}}});var N,D;const L=O(I,[["__scopeId","data-v-2ba6e4e4"]]);export{L as t};
