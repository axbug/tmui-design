var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(o,l,a)=>l in o?e(o,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[l]=a;import{d as i,r as f,c as d,Q as c,o as s,a as p,w as u,b as y,u as k,j as m,M as b,U as g,N as S,i as z}from"./index-6b165856.js";import{t as w}from"./tm-sheet.3639b36a.js";import{t as v}from"./tm-text.6c910eb0.js";import{t as h}from"./tm-icon.65b53dc0.js";import{t as x}from"./tm-translate.1f1c80c0.js";import{c as D,f as _,g as j}from"./tm-app.d6cf2f93.js";const C=i({__name:"tm-tag",props:(P=((e,o)=>{for(var l in o||(o={}))t.call(o,l)&&n(e,l,o[l]);if(a)for(var l of a(o))r.call(o,l)&&n(e,l,o[l]);return e})({},D),O={followTheme:{type:[Boolean],default:!0},transprent:{type:[Boolean],default:!1},border:{type:[Number],default:0},round:{type:[Number],default:2},shadow:{type:[Number],default:1},margin:{type:Array,default:()=>[10,10]},padding:{type:Array,default:()=>[0,0]},checkable:{type:[Boolean],default:!1},checked:{type:[Boolean],default:!1},load:{type:[Boolean],default:!1},size:{type:String,default:"m"},fontSize:{type:[Number],default:0},closable:{type:[Boolean],default:!1},icon:{type:[String],default:""},iconAlign:{type:String,default:"left"},label:{type:[String],default:""},fontColor:{type:String,default:""},beforeClose:{type:Function,default:null}},o(P,l(O))),emits:["click","close","change","update:checked"],setup(e,{emit:o}){const l=e,a=f(null),t=d((()=>_(l)));d((()=>j(l)));const r=f(!0),n=f(!1),i=d((()=>l.fontColor)),D=d((()=>l.load)),C=d({get:function(){return n.value},set:function(e){n.value=e,o("update:checked",n.value)}});C.value=l.checked,c((()=>l.checked),(e=>{C.value=e,o("change",C.value)}));const P=d((()=>"xs"==l.size?{px:l.padding[0]||10,py:l.padding[1]||4,fontSize:l.fontSize||22}:"s"==l.size?{px:l.padding[0]||14,py:l.padding[1]||4,fontSize:l.fontSize||24}:"m"==l.size?{px:l.padding[0]||16,py:l.padding[1]||8,fontSize:l.fontSize||26}:"n"==l.size?{px:l.padding[0]||18,py:l.padding[1]||10,fontSize:l.fontSize||28}:"g"==l.size?{px:l.padding[0]||20,py:l.padding[1]||12,fontSize:l.fontSize||32}:"lg"==l.size?{px:l.padding[0]||24,py:l.padding[1]||16,fontSize:l.fontSize||36}:{px:l.padding[0],py:l.padding[1],fontSize:l.fontSize}));function O(e){o("click",e),D.value||(C.value=!C.value)}function B(){r.value=!1,o("close")}function E(e){return t=this,n=null,i=function*(){if(D.value)return;e.stopPropagation();let t=!0;("function"!=typeof l.beforeClose||(t=yield l.beforeClose(),"function"==typeof t&&(t=yield t()),t))&&(a.value?a.value.play():(r.value=!1,o("close")))},new Promise(((o,l)=>{var a=o=>{try{f(i.next(o))}catch(e){l(e)}},r=o=>{try{f(i.throw(o))}catch(e){l(e)}},f=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,r);f((i=i.apply(t,n)).next())}));var t,n,i}return(e,o)=>{const n=z;return r.value?(s(),p(n,{key:0,class:S(["flex flex-row",[k(D)?"opacity-5":""]])},{default:u((()=>[y(x,{onEnd:B,ref_key:"anitag",ref:a,name:"zoom",reverse:"",autoPlay:!1},{default:u((()=>[y(w,{onClick:O,transprent:l.transprent,color:l.color,_class:"flex-row flex flex-row-center-center",_style:k(t),followTheme:l.followTheme,followDark:l.followDark,dark:l.dark,round:l.round,shadow:l.checkable&&k(C)||!l.checkable?l.shadow:0,outlined:!(!l.checkable||k(C))||l.outlined,border:l.border,borderStyle:l.borderStyle,borderDirection:l.borderDirection,text:!(!l.checkable||k(C))||l.text,linear:l.linear,linearDeep:l.linearDeep,margin:l.margin,padding:[k(P).px,k(P).py],"border-color":l.borderColor,"linear-color":l.linearColor},{default:u((()=>[l.icon&&"left"==l.iconAlign?(s(),p(h,{key:0,color:k(i),name:l.icon,followDark:l.followDark,fontSize:k(P).fontSize,dark:l.dark,userInteractionEnabled:!1},null,8,["color","name","followDark","fontSize","dark"])):m("v-if",!0),y(n,{class:"flex-1 flex flex-center px-12"},{default:u((()=>[b(e.$slots,"default",{},(()=>[y(v,{color:k(i),fontSize:k(P).fontSize,followDark:l.followDark,userInteractionEnabled:!1,dark:l.dark,label:l.label},null,8,["color","fontSize","followDark","dark","label"])]))])),_:3}),y(n,{onClick:o[0]||(o[0]=g((()=>{}),["stop"]))},{default:u((()=>[l.closable&&!k(D)?(s(),p(h,{key:0,color:k(i),onClick:E,followDark:l.followDark,_class:l.icon?"pl-10":"",fontSize:.8*k(P).fontSize,name:"tmicon-times",dark:l.dark},null,8,["color","followDark","_class","fontSize","dark"])):m("v-if",!0)])),_:1}),l.icon&&"right"==l.iconAlign?(s(),p(h,{key:1,color:k(i),name:l.icon,followDark:l.followDark,fontSize:k(P).fontSize,dark:l.dark,userInteractionEnabled:!1},null,8,["color","name","followDark","fontSize","dark"])):m("v-if",!0),k(D)?(s(),p(n,{key:2,userInteractionEnabled:!1,class:"pl-10 flex flex-center flex-row",style:{"line-height":"0"}},{default:u((()=>[y(h,{color:k(i),followDark:l.followDark,fontSize:.8*k(P).fontSize,name:"tmicon-loading",spin:"",dark:e.dark},null,8,["color","followDark","fontSize","dark"])])),_:1})):m("v-if",!0)])),_:3},8,["transprent","color","_style","followTheme","followDark","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","linear","linearDeep","margin","padding","border-color","linear-color"])])),_:3},512)])),_:3},8,["class"])):m("v-if",!0)}}});var P,O;export{C as _};
