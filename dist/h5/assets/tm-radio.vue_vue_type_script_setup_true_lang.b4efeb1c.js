var e=Object.defineProperty,l=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(l,t,a)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[t]=a;import{d,r as i,c as u,Q as s,k as f,at as c,o as p,a as m,w as y,M as v,N as b,u as x,n as h,g,i as w,O as k,b as B,j as V,t as S,v as z}from"./index-6b165856.js";import{t as _}from"./tm-sheet.3639b36a.js";import{t as C}from"./tm-icon.65b53dc0.js";import{t as j}from"./tm-text.6c910eb0.js";import{c as D}from"./tm-app.d6cf2f93.js";const N=d({__name:"tm-radio-group",props:{disabled:{type:Boolean,default:!1},defaultValue:{type:[String,Number,Boolean],default:""},modelValue:{type:[String,Number,Boolean],default:""},direction:{type:String,default:"row"},align:{type:String,default:"left"},model:{type:String,default:"radio"}},emits:["update:modelValue","change"],setup(e,{expose:l,emit:t}){var a;const o=e;null==(a=g())||a.proxy;let r=[];const n=i(o.defaultValue||o.modelValue),d=u((()=>"row"==o.direction?{left:"flex-row-center-start",center:"flex-row-center-center",right:"flex-row-center-end"}[o.align]:{left:"flex-col-center-start",center:"flex-col-center-center",right:"flex-col-center-end"}[o.align]));return s((()=>o.modelValue),(()=>{n.value=o.modelValue}),{deep:!0}),f((()=>{const e=r.filter((e=>e==n.value));e.length>0&&(n.value=e[0]),t("update:modelValue",n.value)})),c("tmRadioBoxDisabled",u((()=>o.disabled))),c("tmRadioBoxVal",n),c("tmRadioBoxModel",u((()=>"radio"==o.model))),c("tmCheckedBoxDir",o.direction),l({pushKey:function(e){r.push(e)},addKey:function(e){n.value=e,t("update:modelValue",n.value),f((()=>{t("change",n.value)}))},checkBoxkeyId:"tmRadioBoxGroup"}),(e,l)=>{const t=w;return p(),m(t,{class:b(["flex",["row"==o.direction?"flex-row":"flex-col","customCol"==o.direction?"":x(d)]]),style:h({flexWrap:"customCol"==o.direction?"nowrap":"wrap"})},{default:y((()=>[v(e.$slots,"default")])),_:3},8,["class","style"])}}}),O=d({__name:"tm-radio",props:(P=((e,l)=>{for(var t in l||(l={}))o.call(l,t)&&n(e,t,l[t]);if(a)for(var t of a(l))r.call(l,t)&&n(e,t,l[t]);return e})({},D),R={followTheme:{type:[Boolean,String],default:!0},size:{type:Number,default:42},outlined:{type:Boolean,default:!1},transprent:{type:Boolean,default:!1},custom:{type:Boolean,default:!0},color:{type:String,default:"primary"},round:{type:Number,default:24},border:{type:Number,default:2},value:{type:[String,Number,Boolean],default:""},modelValue:{type:[String,Number,Boolean],default:""},label:{type:[String,Number],default:""},defaultChecked:{type:[Boolean],default:!1},beforChecked:{type:[Function,String,Boolean],default:()=>!1},disabled:{type:Boolean,default:!1},fontSize:{type:Number,default:26},icon:{type:String,default:"tmicon-check"},disabledClass:{type:String,default:"opacity-5"},margin:{type:Array,default:()=>[16,8]}},l(P,t(R))),emits:["update:modelValue","change","click"],setup(e,{emit:l}){var t,a,o,r;const n=e,d=null!=(a=null==(t=g())?void 0:t.proxy)?a:null;i(!1);const c=i(null!=(o=n.defaultChecked)&&o),D=k("tmRadioBoxVal",u((()=>""))),N=k("tmRadioBoxDisabled",u((()=>!1))),O=k("tmRadioBoxModel",u((()=>!1))),P=k("tmCheckedBoxDir",u((()=>"row"))),R=u((()=>n.disabled||N.value));function I(e){let l=!1,t=void 0===e?D.value:e;return n.modelValue===n.value&&void 0!==n.value&&""!==n.value&&""!==n.modelValue&&(l=!0),n.value===t&&""!==t&&""!==n.value&&(l=!0),l}function K(){return e=this,t=null,a=function*(){if(l("click"),!R.value&&!c.value){if("function"==typeof n.beforChecked){S({title:"...",mask:!0});let e=yield n.beforChecked();if("function"==typeof e&&(e=yield e()),z(),!e)return}c.value=!0,T&&T.addKey(n.value),l("update:modelValue",n.value),f((()=>{l("change",c.value)}))}},new Promise(((l,o)=>{var r=e=>{try{d(a.next(e))}catch(l){o(l)}},n=e=>{try{d(a.throw(e))}catch(l){o(l)}},d=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,n);d((a=a.apply(e,t)).next())}));var e,t,a}I()&&(c.value=!0,l("update:modelValue",n.value)),s([()=>n.modelValue,()=>n.value,()=>D.value],(()=>{c.value=I()}),{deep:!0});let T=null==d?void 0:d.$parent;for(;T&&"tmRadioBoxGroup"!=(null==T?void 0:T.checkBoxkeyId)&&T;)T=null!=(r=null==T?void 0:T.$parent)?r:void 0;return T&&T.pushKey(n.value),(e,l)=>{const t=w;return p(),m(t,{class:b(["flex",[x(R)?n.disabledClass:"","row"==x(P)?"flex-row":"","customCol"==x(P)?"flex-1":""]])},{default:y((()=>[B(t,{onClick:K,class:"flex flex-row flex-row-center-start flex-1"},{default:y((()=>[n.custom?(p(),m(_,{key:0,parenClass:"flex-shrink",class:"flex-shrink",linear:n.linear,linearDeep:n.linearDeep,followTheme:n.followTheme,followDark:n.followDark,dark:n.dark,shadow:n.shadow,userInteractionEnabled:!1,width:x(O)?n.size:0,height:x(O)?n.size:0,text:!c.value&&!n.outlined,border:n.border,"border-style":n.borderStyle,transprent:n.transprent,outlined:n.outlined,padding:x(O)?[0,0]:[16,10],margin:x(O)?n.margin:[8,8],color:x(R)?"grey-2":n.color,round:n.round,_class:"flex-row flex-row-center-center",_style:"transition:background-color 0.24s"},{default:y((()=>[c.value&&x(O)?(p(),m(t,{key:0,style:h({width:n.size-2*n.border+"rpx",height:n.size-2*n.border+"rpx"}),class:"flex flex-row flex-row-center-center relative t--0"},{default:y((()=>[B(C,{"font-size":.6*n.size,"line-height":-1,name:n.icon},null,8,["font-size","name"])])),_:1},8,["style"])):V("v-if",!0),V(' <tm-translate :duration="100" v-if="_checked && _is_radio" name="zoom">\r\n          \r\n        </tm-translate> '),x(O)?V("v-if",!0):(p(),m(j,{key:1,"font-size":n.fontSize,label:n.label},null,8,["font-size","label"]))])),_:1},8,["linear","linearDeep","followTheme","followDark","dark","shadow","width","height","text","border","border-style","transprent","outlined","padding","margin","color","round"])):V("v-if",!0),B(t,{class:"flex-1"},{default:y((()=>[v(e.$slots,"default",{checked:{checked:c.value}},(()=>[x(O)?(p(),m(j,{key:0,userInteractionEnabled:!1,class:"flex-1 flex-wrap","font-size":n.fontSize,label:n.label},null,8,["font-size","label"])):V("v-if",!0)]))])),_:3})])),_:3})])),_:3},8,["class"])}}});var P,R;export{N as _,O as a};
