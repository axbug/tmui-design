import{d as a,c as e,r as n,R as r,o as t,a as l,w as o,b as u,N as i,O as d,u as s,n as g,k as p,g as c,h as v,at as m,j as h,_ as f}from"./index-5c06cf16.js";import{c as b,u as y,f as x,g as C,d as S,h as k}from"./tm-app.20954b06.js";const w=f(a({__name:"tm-sheet",props:{...b,parenClass:{type:String,default:""},contStyle:{type:String,default:""},height:{type:[Number],default:0},width:{type:[Number],default:0},color:{type:String,default:"white"},transprent:{type:[Boolean,String],default:!1},border:{type:[Number,String],default:0},margin:{type:Array,default:()=>[32]},padding:{type:Array,default:()=>[24]},unit:{type:String,default:"rpx"},hoverClass:{type:String,default:"none"},darkBgColor:{type:String,default:""},noLevel:{type:Boolean,default:!1},blur:{type:Boolean,default:!1},url:{type:String,default:""}},emits:["click","longpress","touchend","touchstart","touchcancel","mousedown","mouseup","mouseleave"],setup(a,{emit:f}){var b;const w=a,B=y();null==(b=c())||b.proxy;const $=e((()=>w.parenClass)),F=e((()=>w.contStyle)),_=e((()=>w.transprent)),N=e((()=>B.tmStore)),T=e((()=>("android"!=N.value.os||!R.value)&&w.blur)),L=e((()=>x(w))),j=e((()=>C(w))),A=e((()=>S(w,N.value))),M=e((()=>{let a=w.text;T.value&&"ios"==N.value.os&&R.value&&(a=!0);let e=uni.$tm.u.deepClone(w);const n=uni.$tm.u.deepObjectMerge(e,{blur:T.value,text:a});return k(n,A.value,N.value)})),R=n(!1),D=e((()=>1==w.margin.length?[w.margin[0],w.margin[0],w.margin[0],w.margin[0]]:2==w.margin.length?[w.margin[0],w.margin[1],w.margin[0],w.margin[1]]:3==w.margin.length?[w.margin[0],w.margin[1],w.margin[2],0]:4==w.margin.length?[w.margin[0],w.margin[1],w.margin[2],w.margin[3]]:[0,0,0,0])),E=e((()=>1==w.padding.length?[w.padding[0],w.padding[0],w.padding[0],w.padding[0]]:2==w.padding.length?[w.padding[0],w.padding[1],w.padding[0],w.padding[1]]:3==w.padding.length?[w.padding[0],w.padding[1],w.padding[2],0]:4==w.padding.length?[w.padding[0],w.padding[1],w.padding[2],w.padding[3]]:[0,0,0,0])),I=e((()=>w.width+E.value[0]+E.value[2])),O=e((()=>w.height+E.value[1]+E.value[3])),W=e((()=>w.width)),q=e((()=>w.height)),z=e((()=>w.noLevel)),G=n(!0),H=e((()=>!0===w.blur&&A.value?"dark":!0!==w.blur||A.value?"none":"extralight"));r((()=>A.value),(()=>{}));const J=e((()=>{var a;return!0===_.value?"background-color:rgba(255,255,255,0);":""!==w.darkBgColor&&!0===A.value?`background-color:${w.darkBgColor};`:2==w.linearColor.length?{"background-image":`linear-gradient(${M.value.linearDirectionStr},${w.linearColor[0]},${w.linearColor[1]})`}:2==(null==(a=M.value.gradientColor)?void 0:a.length)?M.value.backgroundColorCss:z.value&&!0===M.value.isBlackAndWhite&&!0===A.value?`background-color: ${M.value.inputcolor}`:`background-color: ${M.value.backgroundColor}`})),K=n(!1);function P(a){K.value=!0,f("longpress",a)}function Q(a){K.value=!0,f("touchstart",a)}function U(a){K.value=!1,f("touchend",a)}function V(a){K.value=!1,f("touchcancel",a)}function X(a){K.value=!0,f("mousedown",a)}function Y(a){K.value=!1,f("mouseup",a)}function Z(a){K.value=!1,f("mouseleave",a)}function aa(a){f("click",a),"string"==typeof w.url&&w.url&&v({url:w.url,fail(a){console.log(a)}})}e((()=>{let a=parseFloat(String(I.value))-parseFloat(String(w.padding[0]));return a-=2*parseFloat(String(w.border)),a})),e((()=>{let a=parseFloat(String(O.value))-parseFloat(String(w.padding[1]));return a-=2*parseFloat(String(w.border)),a}));let ea=e((()=>M.value.textColor));return m("appTextColor",ea),(a,e)=>{const n=h;return G.value?(t(),l(n,{key:0,"hover-class":(w.url?" opacity-7 ":"  ")+w.hoverClass,blurEffect:s(H),onClick:aa,onLongpress:P,onTouchend:U,onTouchstart:Q,onTouchcancel:V,onMousedown:X,onMouseup:Y,onMouseleave:Z,class:d(["flex flex-col noNvueBorder",s($),a.isDisabledRoundAndriod?"":`round-${w.round}`]),style:g([{marginLeft:s(D)[0]+"rpx",marginTop:s(D)[1]+"rpx",marginRight:s(D)[2]+"rpx",marginBottom:s(D)[3]+"rpx",paddingLeft:s(E)[0]+"rpx",paddingTop:s(E)[1]+"rpx",paddingRight:s(E)[2]+"rpx",paddingBottom:s(E)[3]+"rpx"},s(q)?{height:s(O)+w.unit}:"",s(W)?{width:s(I)+w.unit}:"",s(M).borderCss,s(T)&&"ios"==s(B).tmStore.os&&!0===R.value?"":s(J),!s(_)&&w.shadow>0?s(M).shadowColor:"",!s(_)&&s(T)?{backdropFilter:"blur(6px)"}:"",s(L)])},{default:o((()=>[u(n,{class:d(["flex noNvueBorder flex-col flex-1",s(j)]),style:g(s(F))},{default:o((()=>[i(a.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["hover-class","blurEffect","class","style"])):p("v-if",!0)}}}),[["__scopeId","data-v-1d1085b2"]]);export{w as t};
