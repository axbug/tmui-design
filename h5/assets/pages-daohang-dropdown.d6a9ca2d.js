import{d as t,P as e,c as o,r,az as l,p as i,R as a,o as n,a as s,w as p,u as d,V as c,n as f,k as u,b as x,N as b,O as h,e as m,f as w,F as y,L as _,g,j as v,_ as k}from"./index-5c06cf16.js";import{c as D,t as S}from"./tm-app.20954b06.js";import{t as z}from"./tm-sheet.2873fe67.js";import{t as T}from"./tm-text.fdd4f0a8.js";import{t as j}from"./tm-translate.4fbb7927.js";import{t as C}from"./tm-icon.5716c798.js";import{_ as I}from"./tm-divider.vue_vue_type_script_setup_true_lang.0bd9a5e3.js";const Y=k(t({__name:"tm-dropdown",props:{...D,border:{type:[Number],default:0},round:{type:[Number],default:3},transprent:{type:[Boolean],default:!1},color:{type:String,default:"grey-darken-4"},width:{type:Number,default:0},position:{type:String,default:"bc"},list:{type:Array,default:()=>[],required:!0,validator:t=>"object"==typeof t&&Array.isArray(t)},rangKey:{type:String,default:"text"},disabled:{type:Boolean,default:!1},haveArrow:{type:Boolean,default:!0}},emits:["click"],setup(t,{emit:k}){var D;const S=t,I=e("tmuiSysInfo",o((()=>({bottom:0,height:750,width:_(750),top:0,isCustomHeader:!1,sysinfo:null}))));null==(D=g())||D.proxy;const Y=r(null),X=o((()=>I.value.width)),A=o((()=>I.value.height));let P=r(!1);r(uni.$tm.u.getUid(5));let N=r(!1),O=r({left:0,right:0,bottom:0,top:0,width:0,height:0}),$=r({left:0,right:0,bottom:0,top:0,width:0,height:0});const B=o((()=>S.list.map((t=>{let e={text:"",icon:"",iconColor:""};return"string"==typeof t||"number"==typeof t?e.text=t:(e.text=t[S.rangKey],e={...e,...t}),e})))),E=o((()=>"bc"==S.position||"bl"==S.position||"br"==S.position?"up":"down"));function K(){uni.$tm.u.throttle((()=>N.value=!0),200)}function V(){uni.$tm.u.debounce((()=>N.value=!1),250)}return l((()=>{})),i((()=>{})),a((()=>N.value),(()=>{})),(t,e)=>{const o=v;return n(),s(o,{class:"flex flex-row relative"},{default:p((()=>[d(N)?(n(),s(o,{key:0,onClick:c(V,["stop"]),onTouchmove:e[0]||(e[0]=c((()=>{}),["stop"])),class:"l-0 t-0 fixed zIndex-9",style:f([{width:d(X)+"px",height:d(A)+"px",background:"rgba(0,0,0,0)"}])},null,8,["onClick","style"])):u("v-if",!0),x(o,{class:h(["flex flex-col",["tc"==S.position?"popover-tc":"","tl"==S.position?"popover-tl":"","tr"==S.position?"popover-tr":"","bc"==S.position?"popover-bc":"","bl"==S.position?"popover-bl":"","br"==S.position?"popover-br":""]])},{default:p((()=>[x(o,{onClick:c(K,["stop"]),class:"relative zIndex-1 flex flex-row"},{default:p((()=>[x(o,{eventPenetrationEnabled:!1,userInteractionEnabled:!1,ref:"popver",class:"flex flex-row"},{default:p((()=>[b(t.$slots,"default",{},void 0,!0)])),_:3},512)])),_:3},8,["onClick"]),d(N)?(n(),s(o,{key:0,style:f([{"z-index":"400"},[d(P)&&"tc"==S.position?{top:d(O).top-d($).height+"px",left:d(O).left+d(O).width/2-d($).width/2+"px"}:"",d(P)&&"tl"==S.position?{top:d(O).top-d($).height+"px",left:d(O).left+"px"}:"",d(P)&&"tr"==S.position?{top:d(O).top-d($).height+"px",left:d(O).right-d($).width+"px"}:"",d(P)&&"bc"==S.position?{top:d(O).bottom+"px",left:d(O).left+d(O).width/2-d($).width/2+"px"}:"",d(P)&&"bl"==S.position?{top:d(O).bottom+"px",left:d(O).left+"px"}:"",d(P)&&"br"==S.position?{top:d(O).bottom+"px",left:d(O).right-d($).width+"px"}:""]]),class:h([d(P)?"fixed":"absolute","tc"==S.position||"tl"==S.position||"tr"==S.position?"popover-tcc":"","bc"==S.position||"bl"==S.position||"br"==S.position?"popover-bcc":""]),ref:"content"},{default:p((()=>[x(j,{ref_key:"aniDom",ref:Y,reverse:"",name:d(E),duration:180,autoPlay:!d(P)},{default:p((()=>[x(o,{class:h(["flex flex-col",["tc"==S.position?"flex-col-center-center":"","tl"==S.position?"flex-col-top-start":"","tr"==S.position?"flex-col-bottom-end":"","bc"==S.position?"flex-col-center-center":"","bl"==S.position?"flex-col-top-start":"","br"==S.position?"flex-col-bottom-end":""]]),style:f([S.width?{width:S.width+"rpx"}:""])},{default:p((()=>["bc"==S.position||"bl"==S.position||"br"==S.position?(n(),s(z,{key:0,color:S.color,_class:S._class,followTheme:S.followTheme,dark:S.dark,round:0,shadow:S.shadow,outlined:S.outlined,border:S.border,borderStyle:S.borderStyle,borderDirection:S.borderDirection,text:S.text,transprent:S.transprent,linear:S.linear,linearDeep:S.linearDeep,_style:[{zIndex:1},"bc"==S.position?{transform:" rotate(45deg) translateY(8rpx) translateX(8rpx)"}:{},"bl"==S.position?{transform:" rotate(45deg) translateY(-12rpx) translateX(30rpx)"}:{},"br"==S.position?{transform:" rotate(45deg) translateY(20rpx) translateX(-16rpx)",transformOrigin:"0rpx 50%"}:{}],margin:[0,0],padding:[0,0],width:20,height:20},null,8,["color","_class","followTheme","dark","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","_style"])):u("v-if",!0),x(z,{color:S.color,_class:S._class,_style:[{zIndex:2,position:"relative",overflow:"hidden"}],padding:[0,0],followTheme:S.followTheme,dark:S.dark,round:S.round,shadow:S.shadow,outlined:S.outlined,border:S.border,borderStyle:S.borderStyle,borderDirection:S.borderDirection,text:S.text,transprent:S.transprent,linear:S.linear,linearDeep:S.linearDeep,width:S.width,margin:[0,0]},{default:p((()=>[x(o,{style:{height:"24rpx"}}),(n(!0),m(y,null,w(d(B),((t,e)=>(n(),s(o,{"hover-class":"opacity-7",onClick:c((o=>function(t,e){k("click",{index:t,data:e}),N.value=!1}(e,t)),["stop"]),key:e,class:"flex-1 flex px-24 py-16"},{default:p((()=>[x(o,{class:"flex-row flex pb-12 flex-row-center-between"},{default:p((()=>[x(o,{class:"flex flex-row flex-row-center-start flex-1"},{default:p((()=>[t.icon?(n(),s(C,{key:0,color:t.iconColor,dark:S.dark,fontSize:36,_class:"pr-12",name:t.icon},null,8,["color","dark","name"])):u("v-if",!0),x(T,{fontSize:32,label:t.text},null,8,["label"])])),_:2},1024),S.haveArrow?(n(),s(C,{key:0,"font-size":22,_class:"pl-24",name:"tmicon-angle-right"})):u("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),x(o,{style:{height:"8rpx"}})])),_:1},8,["color","_class","followTheme","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","width"]),"tc"==S.position||"tl"==S.position||"tr"==S.position?(n(),s(z,{key:1,color:S.color,_class:S._class,followTheme:S.followTheme,dark:S.dark,round:0,shadow:S.shadow,outlined:S.outlined,border:S.border,borderStyle:S.borderStyle,borderDirection:S.borderDirection,text:S.text,transprent:S.transprent,linear:S.linear,linearDeep:S.linearDeep,_style:[{zIndex:1},"tc"==S.position?{transform:" rotate(45deg) translateY(-8rpx) translateX(-8rpx)"}:{},"tl"==S.position?{transform:" rotate(45deg) translateY(-26rpx) translateX(10rpx)"}:{},"tr"==S.position?{transform:" rotate(45deg) translateY(0rpx) translateX(-24rpx)",transformOrigin:"0rpx 50%"}:{}],margin:[0,0],padding:[0,0],width:20,height:20},null,8,["color","_class","followTheme","dark","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","_style"])):u("v-if",!0)])),_:1},8,["class","style"])])),_:1},8,["name","autoPlay"])])),_:1},8,["class","style"])):u("v-if",!0)])),_:3},8,["class"])])),_:3})}}}),[["__scopeId","data-v-0773c844"]]),X=t({__name:"dropdown",setup(t){const e=r([{text:"苹果",id:"1",icon:"tmicon-collection"},{text:"菠萝",id:"2",icon:"tmicon-account-plus"},{text:"电话",id:"3",icon:"tmicon-phone"}]);return(t,o)=>{const r=v;return n(),s(S,null,{default:p((()=>[x(z,null,{default:p((()=>[x(T,{fontSize:24,_class:"font-weight-b",label:"基础属性,更多玩法请前往文档。"}),x(I),x(r,{class:"flex flex-between flex-row px-32"},{default:p((()=>[x(Y,{position:"bl",color:"grey-darken-4",width:220,list:e.value},{default:p((()=>[x(T,{label:"显示菜单"})])),_:1},8,["list"]),x(Y,{width:220,color:"red",list:e.value},{default:p((()=>[x(T,{label:"样式1"})])),_:1},8,["list"]),x(Y,{position:"br",width:220,color:"primary",linear:"bottom",linearDeep:"accent",list:e.value},{default:p((()=>[x(T,{label:"右对齐"})])),_:1},8,["list"])])),_:1})])),_:1})])),_:1})}}});export{X as default};
