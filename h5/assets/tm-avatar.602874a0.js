import{d as e,c as t,o as r,a as i,w as n,b as l,N as a,u as o,k as s,n as d,O as u,V as c,L as g,i as f,j as p,_ as m}from"./index-5c06cf16.js";import{c as y,f as b,g as h}from"./tm-app.20954b06.js";import{t as S}from"./tm-sheet.2873fe67.js";import{t as x}from"./tm-text.fdd4f0a8.js";import{t as z}from"./tm-icon.5716c798.js";const k=m(e({__name:"tm-avatar",props:{...y,size:{type:[Number],default:90},trigger:{type:[Boolean,String],default:!1},triggerColor:{type:[String],default:""},iconColor:{type:[String],default:""},triggerIcon:{type:[String],default:""},triggerStyle:{type:[String],default:""},round:{type:[Number],default:6},border:{type:[Number],default:0},margin:{type:Array,default:()=>[0,0]},padding:{type:Array,default:()=>[0,0]},transprent:{type:[Boolean,String],default:!1},label:{type:String,default:""},icon:{type:String,default:""},img:{type:String,default:""},fontSize:{type:[Number],default:0},unit:{type:String,default:"rpx"}},emits:["click"],setup(e,{emit:m}){const y=e,k=t((()=>b(y))),_=t((()=>h(y))),w=t((()=>y.size??90)),v=t((()=>y.size??90)),I=t((()=>y.fontSize?y.fontSize:y.label?.4*parseInt(String(w.value)):y.icon?.7*parseInt(String(w.value)):y.size??90)),C=t((()=>g(I.value-4)+"px")),j=t((()=>{let e=w.value/3+6;return e=e>=64?64:e,{size:e,fontSize:.5*e}}));return(t,g)=>{const b=f,h=p;return r(),i(h,{ref:"avatar",class:u(["flex-col flex",[e.trigger?"trigger":"",`mx-${y.margin[0]} my-${y.margin[1]}`]]),style:d({width:o(w)+y.unit,height:o(v)+y.unit})},{default:n((()=>[l(S,{onClick:g[0]||(g[0]=e=>m("click",e)),color:y.color,_class:[o(_),"flex-center flex-col"],_style:[o(k),{flexShrink:1}],followTheme:y.followTheme,dark:y.dark,round:y.round,shadow:y.shadow,outlined:y.outlined,border:y.border,borderStyle:y.borderStyle,borderDirection:y.borderDirection,text:y.text,transprent:!!y.img||y.transprent,linear:y.linear,linearDeep:y.linearDeep,width:o(w),height:o(v),margin:[0,0],padding:y.padding,unit:y.unit},{default:n((()=>[a(t.$slots,"default",{},(()=>[!y.label||y.icon||y.img?s("v-if",!0):(r(),i(x,{key:0,userInteractionEnabled:!1,label:y.label,"font-size":o(I),unit:y.unit},null,8,["label","font-size","unit"])),y.label||!y.icon||y.img?s("v-if",!0):(r(),i(z,{key:1,color:y.iconColor,userInteractionEnabled:!1,name:y.icon,"font-size":o(I),unit:y.unit},null,8,["color","name","font-size","unit"])),y.label||y.icon||!y.img?s("v-if",!0):(r(),i(b,{key:2,userInteractionEnabled:!1,src:y.img,mode:"scaleToFill",style:d({width:o(C),height:o(C)}),class:u(["round-"+y.round])},null,8,["src","style","class"]))]),!0)])),_:3},8,["color","_class","_style","followTheme","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","width","height","padding","unit"]),y.triggerIcon?(r(),i(h,{key:0,onClick:g[1]||(g[1]=c((e=>m("click",e)),["stop"])),class:"absolute flex flex-col-bottom-end b-0 r-0",style:d({width:`${o(w)}${y.unit}`})},{default:n((()=>[l(S,{userInteractionEnabled:!1,width:o(j).size,height:o(j).size,_style:y.triggerStyle,text:!y.img&&!y.text,color:y.triggerColor||y.color,transprent:!1,dark:y.dark,_class:"flex-center ",margin:[0,0],padding:[0,0],round:24,unit:y.unit},{default:n((()=>[l(z,{name:y.triggerIcon,"font-size":o(j).fontSize,unit:y.unit,color:y.iconColor},null,8,["name","font-size","unit","color"])])),_:1},8,["width","height","_style","text","color","dark","unit"])])),_:1},8,["style"])):s("v-if",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-d7157a07"]]);export{k as t};
